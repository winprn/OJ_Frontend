(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function($){var _modules__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(744),jquery_transit__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(780),jquery_transit__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(jquery_transit__WEBPACK_IMPORTED_MODULE_1__),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(116),lodash__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_2__),vj_components_notification__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(135),vj_misc_PageLoader__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(781),vj_utils_delay__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(163),__async=(R,u,t)=>new Promise((e,r)=>{var m=h=>{try{o(t.next(h))}catch(c){r(c)}},s=h=>{try{o(t.throw(h))}catch(c){r(c)}},o=h=>h.done?e(h.value):Promise.resolve(h.value).then(m,s);o((t=t.apply(R,u)).next())});const start=new Date;window.UserContext=JSON.parse(window.UserContext);function buildSequence(R,u){return R.filter(t=>t&&t[`${u}Loading`]).map(t=>({page:t,func:t[`${u}Loading`],type:u}))}function load(){return __async(this,null,function*(){for(const page of window.Hydro.preload)yield eval(page);const pageLoader=new vj_misc_PageLoader__WEBPACK_IMPORTED_MODULE_4__.a,currentPageName=document.documentElement.getAttribute("data-page"),currentPage=pageLoader.getNamedPage(currentPageName),includedPages=pageLoader.getAutoloadPages(),loadSequence=[...buildSequence(includedPages,"before"),...buildSequence(currentPage,"before"),...buildSequence(includedPages,"after"),...buildSequence(currentPage,"after")];for(const{page:R,func:u,type:t}of loadSequence){const e=new Date().getTime();try{yield u(currentPageName)}catch(m){vj_components_notification__WEBPACK_IMPORTED_MODULE_3__.a.warn(`Failed to call '${t}Loading' of ${R.name}`),console.error(`Failed to call '${t}Loading' of ${R.name}
${m.stack}`)}const r=new Date().getTime()-e;r>256&&console.log(`${R.name}: ${t}Loading took ${r}ms`)}const sections=lodash__WEBPACK_IMPORTED_MODULE_2___default.a.map($(".section").get(),(R,u)=>({shouldDelay:u<5,$element:$(R)}));console.log("done! %d ms",new Date().getTime()-start.getTime());for(const{$element:R,shouldDelay:u}of sections)R.addClass("visible"),u&&(yield Object(vj_utils_delay__WEBPACK_IMPORTED_MODULE_5__.a)(50));yield Object(vj_utils_delay__WEBPACK_IMPORTED_MODULE_5__.a)(500);for(const{$element:R}of sections)R.trigger("vjLayout");$(document).trigger("vjPageFullyInitialized")})}load()}.call(this,__webpack_require__(95))},107:function(R,u,t){"use strict";t.d(u,"c",function(){return e}),t.d(u,"b",function(){return r}),t.d(u,"a",function(){return m});class e{constructor(o,h,c,a){this.name=o,this.autoload=h,this.afterLoading=c,this.beforeLoading=a}isNameMatch(o){return typeof this.name=="string"?this.name===o:this.name instanceof Array?this.name.includes(o):!1}}class r extends e{constructor(o,h=null,c=null){super(o,!1,h,c)}}class m extends e{constructor(o,h=null,c=null){super(o,!0,h,c)}}window.Hydro.NamedPage=r,window.Hydro.AutoloadPage=m},114:function(R,u,t){"use strict";t.d(u,"a",function(){return r});var e=t(260);function r(m,...s){var o;return Object(e.a)(((o=window.LOCALES)==null?void 0:o[m])||m,s)}window.Hydro.utils.i18n=r},127:function(R,u,t){"use strict";(function(e,r){var m=t(114),s=Object.defineProperty,o=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,a=(l,f,v)=>f in l?s(l,f,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[f]=v,n=(l,f)=>{for(var v in f||(f={}))h.call(f,v)&&a(l,v,f[v]);if(o)for(var v of o(f))c.call(f,v)&&a(l,v,f[v]);return l},d=(l,f,v)=>new Promise((O,y)=>{var g=A=>{try{p(v.next(A))}catch(M){y(M)}},E=A=>{try{p(v.throw(A))}catch(M){y(M)}},p=A=>A.done?O(A.value):Promise.resolve(A.value).then(g,E);p((v=v.apply(l,f)).next())});const i={ajax(l){return d(this,null,function*(){return new Promise((f,v)=>{e.ajax(n({dataType:"json",headers:{Accept:"application/json"}},l)).fail((O,y,g)=>{if(y==="abort"){const E=new Error(Object(m.a)("Aborted"));E.aborted=!0,v(E)}else if(O.readyState===0)v(new Error(Object(m.a)("Network error")));else if(g instanceof Error)v(g);else if(typeof O.responseJSON=="object"&&O.responseJSON.error){const{error:E}=O.responseJSON;if(E.params){const p=Object(m.a)(E.message,...E.params),A=new Error(p);A.rawMessage=E.message,A.params=E.params,v(A)}else v(new Error(O.responseJSON.error.message))}else v(new Error(y))}).done(f)})})},postFile(l,f,v={}){return this.ajax(n({url:l,data:f,processData:!1,contentType:!1,type:"POST",dataType:void 0},v))},post(l,f={},v={}){let O;return f instanceof r&&f.is("form")?O=f.serialize():f instanceof Node&&e(f).is("form")?O=e(f).serialize():typeof f=="string"?O=f:(O=JSON.stringify(f),v.contentType="application/json"),i.ajax(n({url:l,method:"post",data:O},v))},get(l,f={},v={}){return i.ajax(n({url:l,data:f,method:"get"},v))}};u.a=i,window.Hydro.utils.request=i}).call(this,t(95),t(95))},135:function(R,u,t){"use strict";(function(e){t.d(u,"a",function(){return n});var r=t(1578),m=t(314),s=t(369),o=t(137),h=t(313);const c=document.createElement("div");c.style.position="fixed",c.style.bottom="0px",c.style.zIndex="9999",document.body.append(c);const a=r.b.create({className:"recipe-toaster",position:m.a.LEFT_BOTTOM,usePortal:!0},c);class n{constructor({avatar:i,title:l,message:f,type:v="",duration:O=3e3,action:y}){this.type=v,i&&(this.type+=" avatar"),l&&(this.type+=" title"),this.action=y||(()=>{}),this.$dom=e(o.a`<div class="notification ${v} hide"></div>`),i&&e(o.a`<img width="64" height="64" class="avatar" src="${i}"></img>`).appendTo(this.$dom),l?e(o.a`<div class="notification-content"><h2>${l}</h2><p>${f}</p></div>`).appendTo(this.$dom):e(o.a`<p>${f}</p>`).appendTo(this.$dom),this.$dom.on("click",this.handleClick.bind(this)),this.$n=this.$dom.css("z-index",h.a.getNext()).appendTo(document.body),this.$n.width(),this.duration=O}handleClick(){this.action()}show(i=!0){this.$n.removeClass("hide"),this.duration&&i&&(this.autoHideTimer=setTimeout(this.hide.bind(this),this.duration))}hide(){this.$n.addClass("hide"),setTimeout(()=>this.$n.remove(),200)}static success(i,l){return a.show({message:i,timeout:l,intent:s.a.SUCCESS})}static info(i,l){return a.show({message:i,timeout:l,intent:s.a.PRIMARY})}static warn(i,l){return a.show({message:i,timeout:l,intent:s.a.WARNING})}static error(i,l){return a.show({message:i,timeout:l,intent:s.a.DANGER})}}window.Hydro.components.Notification=n}).call(this,t(95))},137:function(R,u,t){"use strict";(function(e){t.d(u,"a",function(){return s});var r=t(116),m=t.n(r);function s(h,...c){let a=h[0];for(let n=0;n<c.length;++n){const d=c[n];let i;typeof d=="object"&&d.templateRaw?i=d.html:i=m.a.escape(String(d)),a+=i+h[n+1]}return a}s.typoMsg=function(h,c=!1){return s`
    <div class="typo">
      <p>${c?{html:h,templateRaw:!0}:h}</p>
    </div>
  `};function o(h){return{templateRaw:!0,html:h}}e.Hydro.utils.tpl=s}).call(this,t(119))},152:function(R,u,t){"use strict";(function(e){t.d(u,"c",function(){return i}),t.d(u,"d",function(){return g}),t.d(u,"a",function(){return E}),t.d(u,"b",function(){return p});var r=t(137),m=t(114),s=t(488),o=Object.defineProperty,h=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,n=(A,M,C)=>M in A?o(A,M,{enumerable:!0,configurable:!0,writable:!0,value:C}):A[M]=C,d=(A,M)=>{for(var C in M||(M={}))c.call(M,C)&&n(A,C,M[C]);if(h)for(var C of h(M))a.call(M,C)&&n(A,C,M[C]);return A};class i{constructor(M={}){this.options=d({classes:"",$body:null,$action:null},M);let C="";M.width&&(C+=`width:${M.width};max-width:${M.width};`),M.height&&(C+=`height:${M.height};max-height:${M.height};`),this.$dom=e(r.a`
      <div class="dialog withBg ${this.options.classes}" style="display:none">
        <div class="dialog__content" style="${C}">
          <div class="dialog__body" style="height:calc(100% - 45px);"></div>
          <div class="row"><div class="columns clearfix">
            <div class="float-right dialog__action"></div>
          </div></div>
        </div>
      </div>
    `),this.$dom.on("click","[data-action]",this.handleActionButton.bind(this)),this.$dom.on("vjDomDialogShow",this.beforeShow.bind(this)),this.$dom.on("vjDomDialogHidden",this.afterHide.bind(this)),this.$dom.find(".dialog__body").append(this.options.$body),this.$dom.find(".dialog__action").append(this.options.$action),this.domDialogInstance=new s.a(this.$dom,this.options)}beforeShow(){this.$dom.appendTo("body")}afterHide(){this.$dom.detach()}open(){return this.domDialogInstance.show()}close(){return this.domDialogInstance.hide()}handleActionButton(M){this.domDialogInstance.dispatchAction(e(M.currentTarget).attr("data-action"))}}var l=i;const f=r.a`<button class="primary rounded button" data-action="ok">${Object(m.a)("Ok")}</button>`,v=r.a`<button class="rounded button" data-action="cancel">${Object(m.a)("Cancel")}</button>`,O=r.a`<button class="primary rounded button" data-action="yes">${Object(m.a)("Yes")}</button>`,y=r.a`<button class="rounded button" data-action="no">${Object(m.a)("No")}</button>`;class g extends i{constructor(M={}){super(d({$action:f,cancelByClickingBack:!0,cancelByEsc:!0},M))}}class E extends i{constructor(M={}){super(d({$action:[v,f].join(`
`),cancelByClickingBack:!0,cancelByEsc:!0},M))}}class p extends i{constructor(M={}){let C=[];M.canCancel?C=[v,y,O]:C=[y,O];super(d({$action:C.join(`
`),cancelByClickingBack:M.canCancel,cancelByEsc:M.canCancel},M))}}window.Hydro.components.Dialog=i,window.Hydro.components.InfoDialog=g,window.Hydro.components.ActionDialog=E,window.Hydro.components.ConfirmDialog=p}).call(this,t(95))},1547:function(R,u,t){"use strict";t.r(u);var e=t(107),r=t(152),m=t(135);const s=1,o=2;var h=t(114),c=t(137),a=(i,l,f)=>new Promise((v,O)=>{var y=p=>{try{E(f.next(p))}catch(A){O(A)}},g=p=>{try{E(f.throw(p))}catch(A){O(A)}},E=p=>p.done?v(p.value):Promise.resolve(p.value).then(y,g);E((f=f.apply(i,l)).next())});const n=new e.a("messagePage",i=>{if(i==="home_messages")return;let l=!0;document.addEventListener("visibilitychange",()=>{const v=document.visibilityState;v==="hidden"&&l&&(l=!1),v==="visible"&&!l&&(l=!0)});function f(){return a(this,null,function*(){UserContext.unreadMsg&&new m.a({type:"info",message:Object(h.a)(`You have ${UserContext.unreadMsg>1?"new messages":"a new message"}.`),duration:5e3,action:()=>window.open("/home/messages","_blank")}).show();const{default:v}=yield Promise.all([t.e(0),t.e(3)]).then(t.bind(null,276)),O=new v("/home/messages-conn");O.onmessage=y=>{const g=JSON.parse(y.data);console.log("Received message",g),g.mdoc.flag&o?new r.d({cancelByClickingBack:!1,$body:c.a`
            <div class="typo">
              ${{templateRaw:!0,html:Object(h.a)("Message from {0}:",`<div data-user>${g.mdoc.from}</div>`)}}
              <p>${Object(h.a)(g.mdoc.content)}</p>
            </div>`}).open():g.udoc._id===1&&g.mdoc.flag&4?new m.a({message:"You received a system message, click here to view.",duration:15e3,action:()=>window.open(`/home/messages?uid=${g.udoc._id}`,"_blank")}).show():new m.a({title:g.udoc.uname,avatar:g.udoc.avatarUrl,message:g.mdoc.content,duration:15e3,action:()=>window.open(`/home/messages?uid=${g.udoc._id}`,"_blank")}).show()}})}UserContext._id!==0&&f()});var d=u.default=n},163:function(R,u,t){"use strict";t.d(u,"a",function(){return e});function e(r){return new Promise(m=>setTimeout(m,r))}window.Hydro.utils.delay=e},172:function(R,u,t){"use strict";(function(e){t.d(u,"a",function(){return c});let r=null;const m=[];function s(){for(let a=m.length-1;a>=0;--a)(m[a].detached||!document.body.contains(m[a].$dom[0]))&&(m[a].detached||m[a].detach(),m.splice(a,1));m.length===0&&(clearInterval(r),r=null)}function o(a){m.push(a),r===null&&(r=setInterval(s,500))}const h=class{static get(a){const n=this.DOMAttachKey;return a.data(n)}static getOrConstruct(a,...n){const d=a.eq(0),i=this.DOMAttachKey,l=this,f=this.get(d);if(f!==void 0)return f;const v=new l(d,...n);return v.$dom?(v.$dom.data(i,v),v):null}static attachAll(a=document.body,...n){e(a).find(this.DOMAttachSelector).addBack(this.DOMAttachSelector).get().forEach(d=>this.getOrConstruct(e(d),...n))}static detachAll(a=document.body){const n=this.DOMDetachSelector||this.DOMAttachSelector;e(a).find(n).addBack(n).get().forEach(d=>{const i=this.get(e(d));i&&i.detach()})}static registerLifeCycleHooks(a=!0){e(document).on("vjContentNew",n=>this.attachAll(n.target)),e(document).on("vjContentRemove",n=>this.detachAll(n.target)),a&&this.attachAll()}detach(){this.constructor.DOMAttachKey&&this.$dom.removeData(this.constructor.DOMAttachKey),this.detached=!0}constructor(a,n=!1){if(a==null)return null;this.$dom=a,this.id=++h.uniqueIdCounter,this.eventNS=`vj4obj_${this.id}`,this.detached=!1,n&&o(this)}};let c=h;c.uniqueIdCounter=0}).call(this,t(95))},236:function(R,u,t){"use strict";t.d(u,"a",function(){return e}),t.d(u,"b",function(){return r});function e(m){return window.matchMedia?window.matchMedia(`(min-width: ${m}px)`).matches:window.innerWidth>=m}function r(m){return window.matchMedia?window.matchMedia(`(max-width: ${m}px)`).matches:window.innerWidth<=m}window.Hydro.utils.isAbove=e,window.Hydro.utils.isBelow=r},260:function(R,u,t){"use strict";t.d(u,"a",function(){return e});function e(r,m){return r.replace(/\{([^{}]+)\}/g,(s,o)=>m[o]!==void 0?m[o].toString():`{${o}}`)}window.Hydro.utils.substitute=e},264:function(R,u,t){"use strict";t.d(u,"a",function(){return d}),t.d(u,"b",function(){return i});var e=t(265),r=t.n(e),m=Object.defineProperty,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,c=(l,f,v)=>f in l?m(l,f,{enumerable:!0,configurable:!0,writable:!0,value:v}):l[f]=v,a=(l,f)=>{for(var v in f||(f={}))o.call(f,v)&&c(l,v,f[v]);if(s)for(var v of s(f))h.call(f,v)&&c(l,v,f[v]);return l},n=(l,f,v)=>new Promise((O,y)=>{var g=A=>{try{p(v.next(A))}catch(M){y(M)}},E=A=>{try{p(v.throw(A))}catch(M){y(M)}},p=A=>A.done?O(A.value):Promise.resolve(A.value).then(g,E);p((v=v.apply(l,f)).next())});function d(l,f){return n(this,arguments,function*(v,O,y={},g={}){const E=v.attr("style")||"";v.css({position:"absolute",visibility:"none",display:"block"});const p=v.outerHeight();v.attr("style",E),v.css(a({height:0,overflow:"hidden",display:"block"},y)),v.height(),yield v.transition(a({height:p},g),{duration:O,easing:"easeOutCubic"}).promise(),v.attr("style",E),v.css({display:"block"})})}function i(l,f){return n(this,arguments,function*(v,O,y={},g={}){const E=v.attr("style")||"",p=v.outerHeight();v.css(a({height:p,overflow:"hidden",display:"block"},y)),v.height(),yield v.transition(a({height:0},g),{duration:O,easing:"easeOutCubic"}).promise(),v.attr("style",E),v.css({display:"none"})})}window.Hydro.utils.slide={slideUp:i,slideDown:d}},266:function(R,u,t){"use strict";t.d(u,"b",function(){return m});var e=t(127),r=(s,o,h)=>new Promise((c,a)=>{var n=l=>{try{i(h.next(l))}catch(f){a(f)}},d=l=>{try{i(h.throw(l))}catch(f){a(f)}},i=l=>l.done?c(l.value):Promise.resolve(l.value).then(n,d);i((h=h.apply(s,o)).next())});u.a=(s,...o)=>r(void 0,[s,...o],function*(h,c=[]){let a=h.trim();a.startsWith("query")||(a=`query{${a}}`);const n=yield e.a.post(`/d/${UiContext.domainId}/api`,{query:a});if(n.errors)throw new Error(n.errors[0].message);let d=n;for(const i of c)if(d=d[i],!d)return;return d});const m=(s,...o)=>{let h="";for(let c=0;c<s.length;c++)h+=s[c],o[c]&&(h+=JSON.stringify(o[c]));return h}},269:function(R){R.exports=JSON.parse('{"mobile":600,"desktop":1000,"hd":1250}')},311:function(R,u,t){"use strict";t.d(u,"a",function(){return e});function e(r){return typeof r!="string"&&(r=String(r)),{timestamp:parseInt(r.slice(0,0+8),16),machineid:parseInt(r.slice(8,8+6),16),pid:parseInt(r.slice(14,14+4),16),sequence:parseInt(r.slice(18,18+6),16)}}window.Hydro.utils.mongoId=e},312:function(R,u,t){"use strict";(function(e){var r=t(1546),m=t(135),s=t(485),o=t(127),h=Object.defineProperty,c=Object.defineProperties,a=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(_,D,P)=>D in _?h(_,D,{enumerable:!0,configurable:!0,writable:!0,value:P}):_[D]=P,f=(_,D)=>{for(var P in D||(D={}))d.call(D,P)&&l(_,P,D[P]);if(n)for(var P of n(D))i.call(D,P)&&l(_,P,D[P]);return _},v=(_,D)=>c(_,a(D)),O=(_,D,P)=>new Promise((I,S)=>{var L=K=>{try{b(P.next(K))}catch(N){S(N)}},B=K=>{try{b(P.throw(K))}catch(N){S(N)}},b=K=>K.done?I(K.value):Promise.resolve(K.value).then(L,B);b((P=P.apply(_,D)).next())});const y={};let g=null,E=null,p=0;function A(){E&&E.readyState<4&&(E.abort(),E=null)}function M(_){const D=document.createElement("a");return D.href=_,D.href}function C(_,D){const P={title:D.title?D.title:document.title,url:D.url?D.url:_.url};return P.url=M(P.url),P}function j(){p++,s.a.done(),s.a.start()}function U(){p--,p===0&&s.a.done()}y.request=_=>O(void 0,null,function*(){typeof _=="string"&&(_={url:_});const D=f({method:"get",push:!0},_);g||(g={id:Object(r.a)(),options:{url:window.location.href}},window.history.replaceState(g,null)),A(),D.push&&window.history.pushState(null,null,D.url),j();try{const P=f({beforeSend(L){E=L}},D);P.url&&P.url.includes("?")?P.url+="&pjax=1":P.url=`${P.url||""}?pjax=1`;const I=yield o.a.ajax(P),S=C(D,I);g={id:Object(r.a)(),options:_},D.push&&window.history.replaceState(g,null,S.url),S.title&&(document.title=S.title),I.fragments.forEach(L=>{const B=e(L.html.trim()),b=B.attr("data-fragment-id"),K=e(`[data-fragment-id="${b}"]`);K.trigger("vjContentRemove"),K.replaceWith(B),B.trigger("vjContentNew")})}catch(P){P.aborted||(m.a.error(P.message),console.error(P))}finally{U()}});function T(_){if(!_.originalEvent)return;const{state:D}=_.originalEvent;!D||!D.id||g&&D.id===g.id||y.request(v(f({},D.options),{push:!1}))}e(window).on("popstate",T),u.a=y,window.Hydro.utils.pjax=y}).call(this,t(95))},313:function(R,u,t){"use strict";let e=1e3;const r={getCurrent(){return e},getNext(){return++e}};u.a=r,window.Hydro.utils.zIndexManager=r},315:function(R,u,t){"use strict";t.r(u),function(e){t.d(u,"config",function(){return O}),t.d(u,"default",function(){return y});var r=t(116),m=t.n(r),s=t(172),o=Object.defineProperty,h=Object.defineProperties,c=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,i=(g,E,p)=>E in g?o(g,E,{enumerable:!0,configurable:!0,writable:!0,value:p}):g[E]=p,l=(g,E)=>{for(var p in E||(E={}))n.call(E,p)&&i(g,p,E[p]);if(a)for(var p of a(E))d.call(E,p)&&i(g,p,E[p]);return g},f=(g,E)=>h(g,c(E)),v=(g,E,p)=>new Promise((A,M)=>{var C=T=>{try{U(p.next(T))}catch(_){M(_)}},j=T=>{try{U(p.throw(T))}catch(_){M(_)}},U=T=>T.done?A(T.value):Promise.resolve(T.value).then(C,j);U((p=p.apply(g,E)).next())});const O={toolbar:["emoji","headings","bold","italic","strike","link","|","list","ordered-list","check","outdent","indent","|","quote","line","code","inline-code","table","|","upload","edit-mode","fullscreen","export"],mode:UserContext.preferredEditorType||"ir",toolbarConfig:{pin:!0},cdn:`${UiContext.cdn_prefix}vditor`,counter:{enable:!0,max:65536},preview:{math:{inlineDigit:!0}}};class y extends s.a{constructor(E,p={}){super(E);this.options=p,UserContext.preferredEditorType==="monaco"?this.initMonaco():p.language&&p.language!=="markdown"?this.initMonaco():this.initVditor()}initMonaco(){return v(this,null,function*(){const{default:E,registerAction:p}=yield Promise.all([t.e(2),t.e(0),t.e(13)]).then(t.bind(null,416)),{onChange:A,language:M="markdown",theme:C=UserContext.monacoTheme||"vs-light",model:j=`file://model-${Math.random().toString(16)}`,autoResize:U=!0,autoLayout:T=!0}=this.options,{$dom:_}=this,D=_.is(":focus")||_.hasClass("autofocus"),P=_.get(0),I=document.createElement("div");e(I).width("100%").addClass("textbox"),!U&&_.height()&&e(I).height(_.height()),_.hide(),P.parentElement.appendChild(I);const S=this.options.value||_.val();this.model=typeof j=="string"?E.editor.getModel(E.Uri.parse(j))||E.editor.createModel(S,M,E.Uri.parse(j)):j,this.model.setValue(S),this.model.updateOptions({language:M});const L={theme:C,lineNumbers:!0,glyphMargin:!0,lightbulb:{enabled:!0},model:this.model,minimap:{enabled:!1},hideCursorInOverviewRuler:!0,overviewRulerLanes:0,overviewRulerBorder:!1};T&&(L.automaticLayout=!0);let B=0;const b=()=>{var K;const N=this.editor.getDomNode();if(!N)return;const w=this.editor.getOption(E.editor.EditorOption.lineHeight),x=((K=this.editor.getModel())==null?void 0:K.getLineCount())||1,H=this.editor.getTopForLineNumber(x+1)+w;B!==H&&(B=H,N.style.height=`${H}px`,this.editor.layout())};U&&(L.scrollbar={vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1},L.wordWrap="bounded",L.scrollBeyondLastLine=!1),this.editor=E.editor.create(I,L),p(this.editor,this.model,this.$dom),U&&this.editor.onDidChangeModelDecorations(()=>{b(),requestAnimationFrame(b)}),this._subscription=this.editor.onDidChangeModelContent(()=>{const K=this.editor.getValue();_.val(K),_.text(K),A&&A(K)}),this.isValid=!0,D&&this.focus(),U&&b(),window.model=this.model,window.editor=this.editor})}initVditor(){return v(this,null,function*(){const{default:E}=yield Promise.all([t.e(10),t.e(0)]).then(t.t.bind(null,1450,7)),{$dom:p}=this,A=p.is(":focus")||p.hasClass("autofocus"),M=p.get(0),C=document.createElement("div"),j=p.val(),{onChange:U}=this.options;yield new Promise(T=>{this.editor=new E(C,f(l(l({},O),this.options),{after:T,input(_){p.val(_),p.text(_),U&&U(_)},value:j,cache:{id:Math.random().toString()}}))}),e(C).addClass("textbox"),p.hide(),M.parentElement.appendChild(C),this.isValid=!0,A&&this.focus()})}destory(){var E,p;this.detach(),((E=this.editor)==null?void 0:E.destory)?this.editor.destory():((p=this.editor)==null?void 0:p.dispose)&&this.editor.dispose()}ensureValid(){if(!this.isValid)throw new Error("Editor is not loaded")}value(E){return this.ensureValid(),typeof E=="string"?this.editor.setValue(E):this.editor.getValue()}focus(){this.ensureValid(),this.editor.focus();const E=this.model.getFullModelRange();this.editor.setPosition({lineNumber:E.endLineNumber,column:E.endColumn})}}y.DOMAttachKey="vjEditorInstance",m.a.assign(y,s.a)}.call(this,t(95))},367:function(R,u,t){"use strict";t.d(u,"a",function(){return r});var e=(m,s,o)=>new Promise((h,c)=>{var a=i=>{try{d(o.next(i))}catch(l){c(l)}},n=i=>{try{d(o.throw(i))}catch(l){c(l)}},d=i=>i.done?h(i.value):Promise.resolve(i.value).then(a,n);d((o=o.apply(m,s)).next())});function r(m){return e(this,null,function*(){const s=yield Promise.resolve().then(t.t.bind(null,93,7)),{render:o,unmountComponentAtNode:h}=yield Promise.resolve().then(t.t.bind(null,151,7)),{Provider:c}=yield t.e(0).then(t.bind(null,190)),{createStore:a,applyMiddleware:n}=yield t.e(0).then(t.bind(null,457)),{default:d}=yield t.e(0).then(t.bind(null,866)),{default:i}=yield t.e(0).then(t.bind(null,867)),l=[];l.push(d),l.push(i);const f=a(m,n(...l));return{React:s,render:o,unmountComponentAtNode:h,Provider:c,store:f}})}window.Hydro.utils.loadReactRedux=r},377:function(R,u,t){"use strict";t.d(u,"a",function(){return y});var e=t(93),r=t.n(e),m=t(151),s=t.n(m),o=t(116),h=t.n(o),c=t(172),a=t(378),n=Object.defineProperty,d=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,f=(g,E,p)=>E in g?n(g,E,{enumerable:!0,configurable:!0,writable:!0,value:p}):g[E]=p,v=(g,E)=>{for(var p in E||(E={}))i.call(E,p)&&f(g,p,E[p]);if(d)for(var p of d(E))l.call(E,p)&&f(g,p,E[p]);return g},O=(g,E,p)=>new Promise((A,M)=>{var C=T=>{try{U(p.next(T))}catch(_){M(_)}},j=T=>{try{U(p.throw(T))}catch(_){M(_)}},U=T=>T.done?A(T.value):Promise.resolve(T.value).then(C,j);U((p=p.apply(g,E)).next())});class y extends c.a{constructor(E,p={}){super(E);this.options=v({items:()=>O(this,null,function*(){return[]}),render:()=>"",text:()=>null,multi:!1},p),this.ref=null,this.clear=this.clear.bind(this),this.onChange=this.onChange.bind(this),this.attach=this.attach.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this),this.value=this.value.bind(this),this.detach=this.detach.bind(this),this.focus=this.focus.bind(this),this.container=document.createElement("div"),this.$dom.addClass("autocomplete-dummy").after(this.container),setTimeout(()=>this.attach(),0)}clear(E=!0){!this.ref||(E?this.ref.clear():this.ref.closeList())}onChange(E){this.$dom.val(E)}attach(){const E=this.$dom.val();s.a.render(r.a.createElement(a.a,{ref:p=>{this.ref=p},height:"34px",itemsFn:this.options.items,renderItem:this.options.render,itemText:this.options.text,defaultItems:E,onChange:this.onChange,multi:this.options.multi,freeSolo:this.options.multi}),this.container)}open(){!this.ref||this.ref.triggerQuery()}close(){!this.ref||this.ref.closeList()}value(){var E,p;return this.options.multi?this.$dom.val():(p=(E=this.ref)==null?void 0:E.getSelectedItems()[0])!=null?p:null}detach(){this.detached||(super.detach(),s.a.unmountComponentAtNode(this.container),this.$dom.removeClass("autocomplete-dummy"),this.container.parentNode.removeChild(this.container))}focus(){this.ref.focus()}}y.DOMAttachKey="ucwAutoCompleteInstance",Object(o.assign)(y,c.a),window.Hydro.components.autocomplete=y},378:function(R,u,t){"use strict";var e=t(93),r=t.n(e),m=t(136),s=t.n(m),o=t(116),h=t.n(o),c=t(1578),a=(d,i,l)=>new Promise((f,v)=>{var O=E=>{try{g(l.next(E))}catch(p){v(p)}},y=E=>{try{g(l.throw(E))}catch(p){v(p)}},g=E=>E.done?f(E.value):Promise.resolve(E.value).then(O,y);g((l=l.apply(d,i)).next())});const n=Object(e.forwardRef)(function(i,l){var f,v,O,y,g,E,p,A,M,C,j,U,T;const _=(f=i.width)!=null?f:"100%",D=(v=i.height)!=null?v:"auto",P=(O=i.listStyle)!=null?O:{},I=(y=i.itemsFn)!=null?y:()=>a(this,null,function*(){return[]}),S=(g=i.renderItem)!=null?g:W=>W,L=(E=i.itemText)!=null?E:W=>W,B=(p=i.itemKey)!=null?p:L,b=(A=i.onChange)!=null?A:()=>{},K=(M=i.multi)!=null?M:!1,N=(C=i.defaultItems)!=null?C:[],w=typeof N=="string"?i.defaultItems.split(",").map(W=>W.trim()).filter(W=>W.length>0):N,x=(j=i.allowEmptyQuery)!=null?j:!1,H=(U=i.freeSolo)!=null?U:!1,z=H?(T=i.freeSoloConverter)!=null?T:W=>W:W=>W,[X,Q]=Object(e.useState)(!1),[Z,k]=Object(e.useState)(K?w:[]),[G,q]=Object(e.useState)(K?w.map(W=>B(W)):[]),[et,at]=Object(e.useState)([]),[ot,nt]=Object(e.useState)(null),J=Object(e.createRef)(),it=Object(e.createRef)(),lt=Object(e.useRef)({}),ct=W=>a(this,null,function*(){if(!W&&!x){at([]),nt(null);return}let F;lt.current[W]?F=lt.current[W]:(F=yield I(W),lt.current[W]=F),at(F),nt(null)}),dt=()=>{var W;const F=(W=J.current)==null?void 0:W.value;return F?K&&G.length>0?`${G.join(",")},${F}`:F:K?G.join(","):""},rt=()=>{const W=dt();b(W)};Object(e.useEffect)(()=>{rt()},[G,K]);const ut=Object(o.debounce)(W=>a(this,null,function*(){const{target:F}=W,{value:tt}=F;ct(tt)}),300),st=W=>{const F=B(W);if(K){const tt=G.indexOf(F);tt!==-1?(k(V=>{const Y=[...V];return Y.splice(tt,1),Y}),q(V=>{const Y=[...V];return Y.splice(tt,1),Y})):(k(V=>[...V,W]),q(V=>[...V,F])),J.current.value="",J.current.focus()}else k([W]),q([F]),J.current.value=F,rt();at([]),nt(null)},mt=W=>{const{key:F,target:tt}=W;if(F==="Escape"){at([]),nt(null);return}if(F==="Enter"||F===","){if(W.preventDefault(),ot!==null){st(et[ot]);return}H&&tt.value!==""&&st(z(tt.value));return}if(F==="Backspace"){if(tt.value.length>0)return;Z.length>0&&(k(V=>V.slice(0,-1)),q(V=>V.slice(0,-1)));return}if(F==="ArrowUp"){if(W.preventDefault(),et.length===0)return;const V=(ot!=null?ot:0)-1,Y=V<0?et.length-1:V;nt(Y),it.current.children[Y].scrollIntoView({behavior:"smooth",block:"nearest"});return}if(F==="ArrowDown"){if(W.preventDefault(),et.length===0)return;const V=(ot!=null?ot:et.length-1)+1,Y=V>=et.length?0:V;nt(Y),it.current.children[Y].scrollIntoView({behavior:"smooth",block:"nearest"});return}};return Object(e.useImperativeHandle)(l,()=>({getSelectedItems:()=>Z,getSelectedItemsAsString:()=>G.join(","),setSelectedItems:W=>{k(W),q(W.map(F=>B(F)))},getQuery:()=>{var W;return(W=J.current)==null?void 0:W.value},setQuery:W=>{J.current&&(J.current.value=W)},triggerQuery:()=>{var W;return ct((W=J.current)==null?void 0:W.value)},closeList:()=>{at([]),nt(null)},getValue:()=>{var W;return K?G.join(","):(W=J.current.value)!=null?W:""},getValueArray:()=>{var W;return K?Z:[(W=J.current)==null?void 0:W.value].filter(F=>!!F)},getValueWithQuery:()=>dt(),getValueArrayWithQuery:()=>{var W;const F=(W=J.current)==null?void 0:W.value;return F?K?[...Z,F]:[F]:K?Z:[""]},clear:()=>{k([]),q([]),J.current&&(J.current.value="")},focus:()=>{var W;Q(!0),(W=J.current)==null||W.focus()}})),r.a.createElement("div",{style:{display:"inline-block",width:"100%"}},r.a.createElement("div",{className:X?"autocomplete-wrapper focused":"autocomplete-wrapper",style:{width:_,height:D}},K&&Z.map((W,F)=>r.a.createElement("div",{className:"autocomplete-tag",key:G[F]},r.a.createElement("div",null,L(W)),r.a.createElement(c.a,{icon:"cross",onClick:()=>st(W)}))),r.a.createElement("input",{ref:J,autoComplete:"off",onChange:W=>{rt(),ut(W)},onFocus:()=>{Q(!0),x&&ut()},onBlur:()=>Q(!1),onKeyDown:mt,defaultValue:K?"":w.join(",")})),X&&et.length>0&&r.a.createElement("ul",{ref:it,className:"autocomplete-list",style:P,onMouseDown:W=>W.preventDefault()},et.map((W,F)=>r.a.createElement("li",{key:B(W),onClick:()=>st(W),onMouseMove:()=>nt(F),"aria-selected":G.includes(B(W)),"data-focus":F===ot},r.a.createElement("div",null,S(W)),r.a.createElement(c.a,{icon:"tick"})))))});n.propTypes={width:s.a.string,height:s.a.string,listStyle:s.a.object,itemsFn:s.a.func.isRequired,itemKey:s.a.func,renderItem:s.a.func,itemText:s.a.func,onChange:s.a.func.isRequired,multi:s.a.bool,defaultItems:s.a.oneOfType([s.a.arrayOf(s.a.any),s.a.string]),allowEmptyQuery:s.a.bool,freeSolo:s.a.bool,freeSoloConverter:s.a.func},n.defaultProps={width:"100%",height:"auto",listStyle:{},renderItem:d=>d,itemText:d=>d,multi:!1,defaultItems:[],allowEmptyQuery:!1,freeSolo:!1,freeSoloConverter:d=>d},n.displayName="AutoComplete",u.a=n},383:function(R,u,t){"use strict";t.d(u,"a",function(){return v}),t.d(u,"b",function(){return O});var e=t(490),r=t(804),m=t.n(r),s=t(487),o=t(468),h=t(114),c=t(127),a=t(135),n=t(266),d=(y,g,E)=>new Promise((p,A)=>{var M=U=>{try{j(E.next(U))}catch(T){A(T)}},C=U=>{try{j(E.throw(U))}catch(T){A(T)}},j=U=>U.done?p(U.value):Promise.resolve(U.value).then(M,C);j((E=E.apply(y,g)).next())});let i=!window.isSecureContext;function l(y){if(i){i=!1;return}y.returnValue=""}(window.location.protocol==="https:"||window.location.protocol==="chrome-extension:"||window.location.hostname==="localhost")&&(m.a.mitm="/streamsaver/mitm.html");const f=window.WritableStream?Promise.resolve():t.e(0).then(t.t.bind(null,1449,7)).then(({WritableStream:y})=>{window.WritableStream=y,m.a.WritableStream=window.WritableStream});function v(y,g){return d(this,null,function*(){yield f;const E=m.a.createWriteStream(y);let p=0;const A=Object(s.a)({pull(j){return d(this,null,function*(){if(p===g.length)return j.close();try{if(g[p].url){const U=yield fetch(g[p].url);if(!U.ok)throw U.statusText;j.enqueue({name:g[p].filename,stream:()=>U.body})}else j.enqueue({name:g[p].filename,stream:()=>new Blob([g[p].content]).stream()})}catch(U){C(),a.a.error(Object(h.a)("Download Error",[g[p].filename,U.toString()]))}p++})}}),M={};function C(){M.abort()}window.addEventListener("unload",C),window.addEventListener("beforeunload",l),yield Object(o.a)(A,E,M),window.removeEventListener("unload",C),window.removeEventListener("beforeunload",l)})}function O(y,g="Export"){return d(this,null,function*(){var E,p,A;a.a.info("Downloading...");const M=[];try{for(const C of y){const j=yield Object(n.a)(n.b`
        problem(id: ${+C}) {
          pid
          owner
          title
          content
          tag
          nSubmit
          nAccept
          data {
            name
          }
          additional_file {
            name
          }
        }
      `,["data","problem"]);M.push({filename:`${C}/problem.yaml`,content:Object(e.dump)({pid:j.pid,owner:j.owner,title:j.title,tag:j.tag,nSubmit:j.nSubmit,nAccept:j.nAccept})}),M.push({filename:`${C}/problem.md`,content:j.content});let{links:U}=yield c.a.post(`/d/${UiContext.domainId}/p/${C}/files`,{operation:"get_links",files:(j.data||[]).map(T=>T.name),type:"testdata"});for(const T of Object.keys(U))M.push({filename:`${C}/testdata/${T}`,url:U[T]});({links:U}=yield c.a.post(`/d/${UiContext.domainId}/p/${C}/files`,{operation:"get_links",files:(j.additional_file||[]).map(T=>T.name),type:"additional_file"}));for(const T of Object.keys(U))M.push({filename:`${C}/additional_file/${T}`,url:U[T]})}yield v(`${g}.zip`,M)}catch(C){a.a.warn(`${(E=C.error)==null?void 0:E.message} ${(A=(p=C.error)==null?void 0:p.params)==null?void 0:A[0]}`)}})}window.Hydro.components.downloadProblemSet=O,window.Hydro.components.download=v},384:function(R,u,t){"use strict";(function(e){t.d(u,"a",function(){return g});var r=t(509),m=t.n(r),s=t(116),o=t.n(s),h=t(172),c=t(269),a=t.t(269,1),n=t(313),d=t(236),i=Object.defineProperty,l=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,O=(E,p,A)=>p in E?i(E,p,{enumerable:!0,configurable:!0,writable:!0,value:A}):E[p]=A,y=(E,p)=>{for(var A in p||(p={}))f.call(p,A)&&O(E,A,p[A]);if(l)for(var A of l(p))v.call(p,A)&&O(E,A,p[A]);return E};class g extends h.a{constructor(p,A={}){if(p.attr("data-dropdown-trigger-desktop-only")!==void 0&&Object(d.b)(c.mobile)){super(null);return}super(p);this.options=y({target:null,position:p.attr("data-dropdown-pos")||"bottom left"},A),this.dropInstance=new m.a({target:p[0],classes:"dropdown",content:this.options.target||e.find(p.attr("data-dropdown-target"))[0],position:this.options.position,openOn:"hover",constrainToWindow:!0,constrainToScrollParent:!1}),this.dropInstance.on("open",this.onDropOpen.bind(this)),this.dropInstance.on("close",this.onDropClose.bind(this))}detach(){super.detach(),this.dropInstance.destroy()}onDropOpen(){e(this.dropInstance.drop).css("z-index",n.a.getNext()),this.$dom.trigger("vjDropdownShow")}onDropClose(){this.$dom.trigger("vjDropdownHide")}}g.DOMAttachKey="vjDropdownInstance",g.DOMAttachSelector="[data-dropdown-target]",o.a.assign(g,h.a)}).call(this,t(95))},461:function(R,u,t){"use strict";t.d(u,"a",function(){return _});var e=t(93),r=t.n(e),m=t(151),s=t.n(m),o=t(116),h=t(172),c=t(377),a=t(136),n=t.n(a),d=t(266),i=t(378),l=Object.defineProperty,f=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,y=(D,P,I)=>P in D?l(D,P,{enumerable:!0,configurable:!0,writable:!0,value:I}):D[P]=I,g=(D,P)=>{for(var I in P||(P={}))v.call(P,I)&&y(D,I,P[I]);if(f)for(var I of f(P))O.call(P,I)&&y(D,I,P[I]);return D};const E=Object(e.forwardRef)(function(P,I){const S=b=>Object(d.a)(d.b`
    users(search: ${b}) {
      _id
      uname
      avatarUrl
    }
  `,["data","users"]),L=b=>b.uname||b,B=b=>r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media__left medium"},r.a.createElement("img",{className:"small user-profile-avatar",alt:"",src:b.avatarUrl,width:"30",height:"30"})),r.a.createElement("div",{className:"media__body medium"},r.a.createElement("div",{className:"user-select__uname"},b.uname),r.a.createElement("div",{className:"user-select__uid"},"UID = ",b._id)));return r.a.createElement(i.a,g({ref:I,itemsFn:S,itemText:L,renderItem:B},P))});E.propTypes={width:n.a.string,height:n.a.string,listStyle:n.a.object,onChange:n.a.func.isRequired,multi:n.a.bool,defaultItems:n.a.oneOfType([n.a.arrayOf(n.a.any),n.a.string]),allowEmptyQuery:n.a.bool,freeSolo:n.a.bool,freeSoloConverter:n.a.func},E.defaultProps={width:"100%",height:"auto",listStyle:{},multi:!1,defaultItems:[],allowEmptyQuery:!1,freeSolo:!1,freeSoloConverter:D=>D},E.displayName="UserSelectAutoComplete";var p=E,A=Object.defineProperty,M=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,U=(D,P,I)=>P in D?A(D,P,{enumerable:!0,configurable:!0,writable:!0,value:I}):D[P]=I,T=(D,P)=>{for(var I in P||(P={}))C.call(P,I)&&U(D,I,P[I]);if(M)for(var I of M(P))j.call(P,I)&&U(D,I,P[I]);return D};class _ extends c.a{constructor(P,I){super(P,T({classes:"user-select"},I))}attach(){const P=this.$dom.val();s.a.render(r.a.createElement(p,{ref:I=>{this.ref=I},height:"34px",defaultItems:P,onChange:this.onChange,multi:this.options.multi,freeSolo:this.options.multi}),this.container)}}_.DOMAttachKey="ucwUserSelectAutoCompleteInstance",Object(o.assign)(_,h.a),window.Hydro.components.UserSelectAutoComplete=_},462:function(R,u,t){"use strict";t.d(u,"a",function(){return m});var e=t.p+"modules/wastyle/dist/astyle-optimize-size.wasm?365ca38685095396a2184cb54cbf6c46",r=(s,o,h)=>new Promise((c,a)=>{var n=l=>{try{i(h.next(l))}catch(f){a(f)}},d=l=>{try{i(h.throw(l))}catch(f){a(f)}},i=l=>l.done?c(l.value):Promise.resolve(l.value).then(n,d);i((h=h.apply(s,o)).next())});function m(){return r(this,null,function*(){const{init:s,format:o}=yield t.e(0).then(t.t.bind(null,1577,7));try{return yield s(e),console.log("WAstyle is ready!"),[!0,(c,a)=>{const[n,d]=o(c,a);return[n,(d||"").replace(/^#(include|import)[\t ]*(<|")/gm,(i,l,f)=>`#${l} ${f}`)]}]}catch(h){return[!1,h.message]}})}},466:function(R,u,t){"use strict";t.d(u,"a",function(){return e});function e(r,m,s=!1){let o;s?o=!0:o=r.ctrlKey||r.shiftKey||r.metaKey,o?window.open(m):window.location.href=m}window.Hydro.utils.emulateAnchorClick=e},467:function(R,u,t){"use strict";t.d(u,"a",function(){return e});function e(r){const m={};return(r||document.location.search).replace(/(^\?)/,"").split("&").forEach(s=>{const[o,h]=s.split("=").map(c=>decodeURIComponent(c));m[o]=h}),m}window.Hydro.utils.parseQueryString=e},468:function(R,u,t){"use strict";t.d(u,"a",function(){return r});var e=(m,s,o)=>new Promise((h,c)=>{var a=i=>{try{d(o.next(i))}catch(l){c(l)}},n=i=>{try{d(o.throw(i))}catch(l){c(l)}},d=i=>i.done?h(i.value):Promise.resolve(i.value).then(a,n);d((o=o.apply(m,s)).next())});function r(m,s,o){return e(this,null,function*(){if(window.WritableStream&&m.pipeTo){const h=new AbortController;o&&(o.abort=h.abort.bind(h)),yield m.pipeTo(s,h)}else{const h=s.getWriter();o&&(o.abort=h.abort.bind(h));const c=m.getReader();for(;;){const a=yield c.read();if(a.done){h.close();break}else h.write(a.value)}}})}window.Hydro.utils.pipeStream=r},485:function(R,u,t){"use strict";var e=t(486),r=t.n(e);u.a=r.a},487:function(R,u,t){"use strict";t.d(u,"a",function(){return s});var e=t(779),r=t.n(e),m=(h,c,a)=>new Promise((n,d)=>{var i=v=>{try{f(a.next(v))}catch(O){d(O)}},l=v=>{try{f(a.throw(v))}catch(O){d(O)}},f=v=>v.done?n(v.value):Promise.resolve(v.value).then(i,l);f((a=a.apply(h,c)).next())});const s=window.ZIP;function o(h){return m(this,null,function*(){return new Response(s(h)).blob()})}window.Hydro.utils.zip={createZipStream:s,createZipBlob:o}},488:function(R,u,t){"use strict";(function(e){t.d(u,"a",function(){return f});var r=t(116),m=t.n(r),s=t(172),o=t(313),h=Object.defineProperty,c=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,d=(v,O,y)=>O in v?h(v,O,{enumerable:!0,configurable:!0,writable:!0,value:y}):v[O]=y,i=(v,O)=>{for(var y in O||(O={}))a.call(O,y)&&d(v,y,O[y]);if(c)for(var y of c(O))n.call(O,y)&&d(v,y,O[y]);return v},l=(v,O,y)=>new Promise((g,E)=>{var p=C=>{try{M(y.next(C))}catch(j){E(j)}},A=C=>{try{M(y.throw(C))}catch(j){E(j)}},M=C=>C.done?g(C.value):Promise.resolve(C.value).then(p,A);M((y=y.apply(v,O)).next())});class f extends s.a{constructor(O,y={}){super(O);this.isShown=!1,this.isAnimating=!1,this.options=i({cancelByClickingBack:!1,cancelByEsc:!1,onDispatch:()=>{}},y)}_show(){return l(this,null,function*(){this.$dom.css("z-index",o.a.getNext()),this.$dom.trigger("vjDomDialogShow"),this.isAnimating=!0,this.options.cancelByClickingBack&&this.$dom.on(`click.${this.eventNS}`,this.handleClick.bind(this)),this.options.cancelByEsc&&e(document).on(`keyup.${this.eventNS}`,this.handleKeyUp.bind(this));const O=this.$dom;O.css({display:"flex",opacity:0}),O.width(),O.transition({opacity:1},{duration:100,easing:"easeOutCubic"});const y=this.$dom.find(".dialog__content");y.css({scale:.8}),y.trigger("vjContentNew"),yield y.transition({scale:1},{duration:200,easing:"easeOutCubic"}).promise(),this.$dom.find("[data-autofocus]").focus(),this.isShown=!0,this.isAnimating=!1,this.$dom.trigger("vjDomDialogShown")})}_hide(){return l(this,null,function*(){this.$dom.trigger("vjDomDialogHide"),this.isAnimating=!0,e(document).off(`keyup.${this.eventNS}`),this.$dom.off(`click.${this.eventNS}`),this.$dom.css({opacity:1}),this.$dom.transition({opacity:0},{duration:200});const O=this.$dom.find(".dialog__content");O.css({scale:1}),yield O.transition({scale:.8},{duration:200,easing:"easeOutCubic"}).promise(),this.$dom.css("display","none"),this.isShown=!1,this.isAnimating=!1,this.$dom.trigger("vjDomDialogHidden")})}show(){if(this.isShown||this.isAnimating)return Promise.reject();const O=new Promise(y=>{this._resolve=y});return this._show(),O}hide(){return!this.isShown||this.isAnimating?!1:(this._resolve("cancel"),this._hide(),!0)}dispatchAction(O){this.options.onDispatch(O)!==!1&&(this._resolve(O),this.hide())}handleClick(O){O.target===this.$dom.get(0)&&this.dispatchAction("cancel")}handleKeyUp(O){O.keyCode===27&&this.dispatchAction("cancel")}}f.DOMAttachKey="vjDomDialogInstance",m.a.assign(f,s.a)}).call(this,t(95))},489:function(R,u,t){"use strict";t.d(u,"a",function(){return e});function e(r,m,s){Object.defineProperty(r,`__${m}`,{value:s,enumerable:!1,configurable:!1,writable:!1})}},490:function(R,u,t){"use strict";var e=t(381),r=t.n(e);t.o(e,"dump")&&t.d(u,"dump",function(){return e.dump}),e.Schema.create=(m,s)=>new e.Schema(m,s),u.default=r.a},508:function(R,u,t){"use strict";t.d(u,"a",function(){return r}),t.d(u,"b",function(){return o});const e={STATUS_WAITING:0,STATUS_ACCEPTED:1,STATUS_WRONG_ANSWER:2,STATUS_TIME_LIMIT_EXCEEDED:3,STATUS_MEMORY_LIMIT_EXCEEDED:4,STATUS_OUTPUT_LIMIT_EXCEEDED:5,STATUS_RUNTIME_ERROR:6,STATUS_COMPILE_ERROR:7,STATUS_SYSTEM_ERROR:8,STATUS_CANCELED:9,STATUS_ETC:10,STATUS_HACKED:11,STATUS_JUDGING:20,STATUS_COMPILING:21,STATUS_FETCHED:22,STATUS_IGNORED:30,STATUS_FORMAT_ERROR:31},r={[e.STATUS_WAITING]:"Waiting",[e.STATUS_ACCEPTED]:"Accepted",[e.STATUS_WRONG_ANSWER]:"Wrong Answer",[e.STATUS_TIME_LIMIT_EXCEEDED]:"Time Exceeded",[e.STATUS_MEMORY_LIMIT_EXCEEDED]:"Memory Exceeded",[e.STATUS_OUTPUT_LIMIT_EXCEEDED]:"Output Exceeded",[e.STATUS_RUNTIME_ERROR]:"Runtime Error",[e.STATUS_COMPILE_ERROR]:"Compile Error",[e.STATUS_SYSTEM_ERROR]:"System Error",[e.STATUS_CANCELED]:"Cancelled",[e.STATUS_ETC]:"Unknown Error",[e.STATUS_HACKED]:"Hacked",[e.STATUS_JUDGING]:"Running",[e.STATUS_COMPILING]:"Compiling",[e.STATUS_FETCHED]:"Fetched",[e.STATUS_IGNORED]:"Ignored",[e.STATUS_FORMAT_ERROR]:"Format Error"},m={[e.STATUS_ACCEPTED]:"AC",[e.STATUS_WRONG_ANSWER]:"WA",[e.STATUS_TIME_LIMIT_EXCEEDED]:"TLE",[e.STATUS_MEMORY_LIMIT_EXCEEDED]:"MLE",[e.STATUS_OUTPUT_LIMIT_EXCEEDED]:"OLE",[e.STATUS_RUNTIME_ERROR]:"RE",[e.STATUS_COMPILE_ERROR]:"CE",[e.STATUS_SYSTEM_ERROR]:"SE",[e.STATUS_CANCELED]:"IGN",[e.STATUS_HACKED]:"HK",[e.STATUS_IGNORED]:"IGN",[e.STATUS_FORMAT_ERROR]:"FE"},s={0:"pending",1:"pass",2:"fail",3:"fail",4:"fail",5:"fail",6:"fail",7:"fail",8:"fail",9:"ignored",10:"fail",11:"fail",20:"progress",21:"progress",22:"progress",30:"ignored",31:"ignored"};function o(l){return["#ff4f4f","#ff694f","#f8603a","#fc8354","#fa9231","#f7bb3b","#ecdb44","#e2ec52","#b0d628","#93b127","#25ad40"][Math.floor((Number(l)||0)/10)]}const h=0,c=1,a=2,n=[h,c,a],d={[h]:"Boy \u2642",[c]:"Girl \u2640",[a]:"Other"},i={[h]:"\u2642",[c]:"\u2640",[a]:"?"}},510:function(R,u,t){"use strict";(function(e){t.d(u,"a",function(){return o});var r=t(152),m=t(114),s=t(137);function o(h,c){if(Object(m.a)(h)===h||!c)return;const a=document.createElement("a");a.setAttribute("href","javascript:;");const n=document.createElement("span");n.setAttribute("class","icon icon-help"),a.appendChild(n),a.onclick=()=>{new r.d({cancelByClickingBack:!1,$body:s.a.typoMsg(Object(m.a)(h),!0)}).open()},e(c).append(a)}}).call(this,t(95))},511:function(R,u,t){"use strict";t.d(u,"a",function(){return h});var e=t(509),r=t.n(e),m=t(116),s=t.n(m),o=t(172);class h extends o.a{constructor(a,n={}){super(a,!0);this.dropRemoved=!1,this.drop=new r.a({target:a[0],classes:"tooltip",position:n.position||"top center",openOn:"hover",constrainToWindow:!0,constrainToScrollParent:!1,content:a.attr("data-tooltip")}),this.isOpen=!1,this.drop.on("open",this.onOpen,this),this.drop.on("close",this.onClose,this),this.delayDetach=s.a.debounce(this.detach.bind(this),200)}onOpen(){this.delayDetach.cancel()}onClose(){this.delayDetach()}detach(){this.detached||(super.detach(),this.drop.destroy())}close(){this.drop.close()}open(){this.drop.open()}}h.DOMAttachKey="vjTooltipInstance",s.a.assign(h,o.a)},676:function(R,u,t){"use strict";t.d(u,"a",function(){return _});var e=t(93),r=t.n(e),m=t(151),s=t.n(m),o=t(116),h=t(172),c=t(377),a=t(136),n=t.n(a),d=t(127),i=t(378),l=Object.defineProperty,f=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,y=(D,P,I)=>P in D?l(D,P,{enumerable:!0,configurable:!0,writable:!0,value:I}):D[P]=I,g=(D,P)=>{for(var I in P||(P={}))v.call(P,I)&&y(D,I,P[I]);if(f)for(var I of f(P))O.call(P,I)&&y(D,I,P[I]);return D};const E=Object(e.forwardRef)(function(P,I){const S=b=>d.a.get(`/d/${UiContext.domainId}/problem/list`,{prefix:b}),L=b=>`${b.docId||b}`,B=b=>r.a.createElement("div",{className:"media"},r.a.createElement("div",{className:"media__body medium"},r.a.createElement("div",{className:"problem-select__name"},b.pid?`${b.pid} `:"",b.title),r.a.createElement("div",{className:"problem-select__id"},"ID = ",b.docId)));return r.a.createElement(i.a,g({ref:I,itemsFn:S,itemText:L,itemKey:L,renderItem:B},P))});E.propTypes={width:n.a.string,height:n.a.string,listStyle:n.a.object,onChange:n.a.func.isRequired,multi:n.a.bool,defaultItems:n.a.oneOfType([n.a.arrayOf(n.a.any),n.a.string]),allowEmptyQuery:n.a.bool,freeSolo:n.a.bool,freeSoloConverter:n.a.func},E.defaultProps={width:"100%",height:"auto",listStyle:{},multi:!1,defaultItems:[],allowEmptyQuery:!1,freeSolo:!1,freeSoloConverter:D=>D},E.displayName="ProblemSelectAutoComplete";var p=E,A=Object.defineProperty,M=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,U=(D,P,I)=>P in D?A(D,P,{enumerable:!0,configurable:!0,writable:!0,value:I}):D[P]=I,T=(D,P)=>{for(var I in P||(P={}))C.call(P,I)&&U(D,I,P[I]);if(M)for(var I of M(P))j.call(P,I)&&U(D,I,P[I]);return D};class _ extends c.a{constructor(P,I){super(P,T({classes:"problem-select"},I))}attach(){const P=this.$dom.val();s.a.render(r.a.createElement(p,{ref:I=>{this.ref=I},height:"34px",defaultItems:P,onChange:this.onChange,multi:this.options.multi,freeSolo:this.options.multi}),this.container)}}_.DOMAttachKey="ucwProblemSelectAutoCompleteInstance",Object(o.assign)(_,h.a),window.Hydro.components.ProblemSelectAutoComplete=_},744:function(R,u,t){"use strict";(function(e){var r=t(95),m=t.n(r),s=t(116),o=t.n(s),h=t(163),c=t(466),a=t(114),n=t(367),d=t(236),i=t(311),l=t(467),f=t(468),v=t(312),O=t(127),y=t(264),g=t(260),E=t(137),p=t(313),A=t(487),M=t(377),C=t(152),j=t(135),U=t(485);window.node_modules={_:o(),$:m()},window.$=m.a,e=m.a}).call(this,t(95))},781:function(R,u,t){"use strict";t.d(u,"a",function(){return r});var e=t(107);class r{constructor(){const s=t(782),o=t(817);this.pageInstances=[...s.keys().map(h=>{const c=s(h).default;return!c||!(c instanceof e.c)?null:c}),...o.keys().map(h=>{const c=o(h).default;return!c||!(c instanceof e.c)?null:c})],window.Hydro.extraPages&&this.pageInstances.push(...window.Hydro.extraPages),window.Hydro.pageInstances=this.pageInstances}getAutoloadPages(){return this.pageInstances.filter(s=>s&&s.autoload)}getNamedPage(s){return this.pageInstances.filter(o=>o&&o.isNameMatch(s))}}},782:function(R,u,t){var e={"./api.page.tsx":783,"./contest.page.ts":784,"./contest_edit.page.js":785,"./contest_main.page.ts":786,"./domain_join_applications.page.ts":787,"./domain_role.page.js":789,"./domain_user.page.js":790,"./home_files.page.js":791,"./home_messages.page.jsx":792,"./home_preference.page.jsx":793,"./homework_main.page.js":795,"./manage_dashboard.page.js":797,"./manage_script.page.js":798,"./manage_user_import.page.js":799,"./problem_detail.page.jsx":800,"./problem_edit.page.js":805,"./problem_files.page.js":807,"./problem_main.page.js":808,"./problem_sidebar.page.ts":809,"./problem_submit.page.js":810,"./record_detail.page.ts":811,"./record_main.page.ts":812,"./training_detail.page.ts":813,"./training_edit.page.ts":814,"./user_detail.page.js":815};function r(s){var o=m(s);return t(o)}function m(s){if(!t.o(e,s)){var o=new Error("Cannot find module '"+s+"'");throw o.code="MODULE_NOT_FOUND",o}return e[s]}r.keys=function(){return Object.keys(e)},r.resolve=m,R.exports=r,r.id=782},783:function(R,u,t){"use strict";t.r(u);var e=t(107),r=t(127),m=t(93),s=t.n(m),o=t(151),h=t.n(o),c=(i,l,f)=>new Promise((v,O)=>{var y=p=>{try{E(f.next(p))}catch(A){O(A)}},g=p=>{try{E(f.throw(p))}catch(A){O(A)}},E=p=>p.done?v(p.value):Promise.resolve(p.value).then(y,g);E((f=f.apply(i,l)).next())});const a=()=>s.a.createElement("span",null,"Hydro API Console "),n=`query {
  user(id: 1) {
    uname
  }
}`,d=new e.b("api",()=>c(void 0,null,function*(){const[{default:i},{buildSchema:l},f]=yield Promise.all([Promise.all([t.e(4),t.e(0),t.e(5)]).then(t.bind(null,1548)),t.e(5).then(t.bind(null,126)),r.a.get("/api?schema"),t.e(4).then(t.bind(null,1012))]);i.Logo=a;const v=()=>s.a.createElement(i,{schema:l(f.schema),defaultQuery:n,fetcher:O=>c(this,null,function*(){const y=yield fetch("/api",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(O),credentials:"same-origin"});return y.json().catch(()=>y.text())})});Object(o.render)(s.a.createElement(v,null),document.getElementById("graphiql"))}));u.default=d},784:function(R,u,t){"use strict";t.r(u);var e=t(486),r=t.n(e),m=t(107);u.default=new m.b(["contest_detail","contest_detail_problem"],()=>{const s=new Date(UiContext.tdoc.beginAt).getTime(),o=new Date(UiContext.tdoc.endAt).getTime();r.a.configure({trickle:!1,showSpinner:!1,minimum:0});function h(){const c=Date.now();s<=c&&c<=o?r.a.set((c-s)/(o-s)):c>o?r.a.set(1):r.a.set(0)}r.a.start(),h(),setInterval(h,5e3)})},785:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(152),s=t(676),o=t(137),h=t(114),c=t(127);const a=new r.b(["contest_edit","contest_create","homework_create","homework_edit"],n=>{if(s.a.getOrConstruct(e('[name="pids"]'),{multi:!0,clearDefaultValue:!1}),n.endsWith("edit")){let d=!1;e(document).on("click",'[name="operation"]',i=>{if(i.preventDefault(),d)return c.a.post(".",{operation:"delete"}).then(f=>{window.location.href=f.url});const l=`Confirm deleting this ${n.split("_")[0]}? Its status will be deleted as well.`;return new m.b({$body:o.a.typoMsg(Object(h.a)(l))}).open().then(f=>{f==="yes"&&(d=!0,i.target.click())})})}});u.default=a}.call(this,t(95))},786:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107);const m=new r.b("contest_main",()=>{e('[name="filter-form"] [name="rule"]').on("change",()=>{e('[name="filter-form"]').trigger("submit")})});u.default=m}.call(this,t(95))},787:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(788);const s=new r.b("domain_join_applications",()=>{const o=e('[name="role"]'),h=e('[name="expire"]'),c=e('[name="invitationCode"]');function a(){const n=+e('[name="method"]').val();o.prop("disabled",n===m.b).trigger("vjFormDisableUpdate"),h.prop("disabled",n===m.b).trigger("vjFormDisableUpdate"),c.prop("disabled",n!==m.a).trigger("vjFormDisableUpdate")}a(),e('[name="method"]').on("change",a)});u.default=s}.call(this,t(95))},788:function(R,u,t){"use strict";t.d(u,"b",function(){return r}),t.d(u,"a",function(){return s});var e=t(489);const r=0,m=1,s=2,o={[r]:"No user is allowed to join this domain",[m]:"Any user is allowed to join this domain",[s]:"Any user is allowed to join this domain with an invitation code"};Object(e.a)(o,"intKey",!0);const h=0,c=-1,a={[h]:"Keep current expiration",3:"In 3 hours",24:"In 1 day",[24*3]:"In 3 days",[24*7]:"In 1 week",[24*30]:"In 1 month",[c]:"Never expire"};Object(e.a)(a,"intKey",!0)},789:function(R,u,t){"use strict";t.r(u),function(e){var r=t(116),m=t.n(r),s=t(107),o=t(135),h=t(152),c=t(127),a=t(137),n=t(163),d=t(114),i=(f,v,O)=>new Promise((y,g)=>{var E=M=>{try{A(O.next(M))}catch(C){g(C)}},p=M=>{try{A(O.throw(M))}catch(C){g(C)}},A=M=>M.done?y(M.value):Promise.resolve(M.value).then(E,p);A((O=O.apply(f,v)).next())});const l=new s.b("domain_role",()=>{const f=new h.a({$body:e(".dialog__body--create-role > div"),onDispatch(g){const E=f.$dom.find('[name="role"]');return g==="ok"&&E.val()===""?(E.focus(),!1):!0}});f.clear=function(){return this.$dom.find('[name="role"]').val(""),this};function v(){const g=m.a.map(e('.domain-roles tbody [type="checkbox"]:checked'),E=>e(E).closest("tr").attr("data-role"));return g.length===0?(o.a.error(Object(d.a)("Please select at least one role to perform this operation.")),null):g}function O(){return i(this,null,function*(){if((yield f.clear().open())!=="ok")return;const E=f.$dom.find('[name="role"]').val();try{yield c.a.post("",{operation:"add",role:E}),window.location.reload()}catch(p){o.a.error(p.message)}})}function y(){return i(this,null,function*(){const g=v();if(!(g===null||(yield new h.b({$body:a.a`
        <div class="typo">
          <p>${Object(d.a)("Confirm deleting the selected roles?")}</p>
          <p>${Object(d.a)("Users with those roles will be removed from the domain.")}</p>
        </div>`}).open())!=="yes"))try{yield c.a.post("",{operation:"delete",roles:g}),o.a.success(Object(d.a)("Selected roles have been deleted.")),yield Object(n.a)(2e3),window.location.reload()}catch(p){o.a.error(p.message)}})}e('[name="create_role"]').click(()=>O()),e('[name="delete_selected"]').click(()=>y())});u.default=l}.call(this,t(95))},790:function(R,u,t){"use strict";t.r(u),function(e){var r=t(116),m=t.n(r),s=t(107),o=t(135),h=t(152),c=t(461),a=t(127),n=t(137),d=t(163),i=t(114),l=(v,O,y)=>new Promise((g,E)=>{var p=C=>{try{M(y.next(C))}catch(j){E(j)}},A=C=>{try{M(y.throw(C))}catch(j){E(j)}},M=C=>C.done?g(C.value):Promise.resolve(C.value).then(p,A);M((y=y.apply(v,O)).next())});const f=new s.b("domain_user",()=>{const v=c.a.getOrConstruct(e('.dialog__body--add-user [name="user"]')),O=new h.a({$body:e(".dialog__body--add-user > div"),onDispatch(C){const j=O.$dom.find('[name="role"]');if(C==="ok"){if(v.value()===null)return v.focus(),!1;if(j.val()==="")return j.focus(),!1}return!0}});O.clear=function(){return v.clear(),this.$dom.find('[name="role"]').val(""),this};const y=new h.a({$body:e(".dialog__body--set-role > div"),onDispatch(C){const j=y.$dom.find('[name="role"]');return C==="ok"&&j.val()===""?(j.focus(),!1):!0}});y.clear=function(){return this.$dom.find('[name="role"]').val(""),this};function g(){return l(this,null,function*(){if((yield O.clear().open())!=="ok")return;const j=v.value(),U=O.$dom.find('[name="role"]').val();try{yield a.a.post("",{operation:"set_user",uid:j._id,role:U}),window.location.reload()}catch(T){o.a.error(T.message)}})}function E(){const C=m.a.map(e('.domain-users tbody [type="checkbox"]:checked'),j=>e(j).closest("tr").attr("data-uid"));return C.length===0?(o.a.error(Object(i.a)("Please select at least one user to perform this operation.")),null):C}function p(){return l(this,null,function*(){const C=E();if(!(C===null||(yield new h.b({$body:n.a`
        <div class="typo">
          <p>${Object(i.a)("Confirm removing the selected users?")}</p>
          <p>${Object(i.a)("Their account will not be deleted and they will be with the default role.")}</p>
        </div>`}).open())!=="yes"))try{yield a.a.post("",{operation:"set_users",uid:C,role:"default"}),o.a.success(Object(i.a)("Selected users have been removed from the domain.")),yield Object(d.a)(2e3),window.location.reload()}catch(U){o.a.error(U.message)}})}function A(){return l(this,null,function*(){const C=E();if(C===null||(yield y.clear().open())!=="ok")return;const U=y.$dom.find('[name="role"]').val();try{yield a.a.post("",{operation:"set_users",uid:C,role:U}),o.a.success(Object(i.a)("Role has been updated to {0} for selected users.",U)),yield Object(d.a)(2e3),window.location.reload()}catch(T){o.a.error(T.message)}})}function M(C){return l(this,null,function*(){const j=e(C.currentTarget).closest("tr"),U=e(C.currentTarget).val();try{yield a.a.post("",{operation:"set_user",uid:j.attr("data-uid"),role:U}),o.a.success(Object(i.a)("Role has been updated to {0}.",U))}catch(T){o.a.error(T.message)}})}e('[name="add_user"]').click(()=>g()),e('[name="remove_selected"]').click(()=>p()),e('[name="set_roles"]').click(()=>A()),e('.domain-users [name="role"]').change(C=>M(C))});u.default=f}.call(this,t(95))},791:function(R,u,t){"use strict";t.r(u),function(e){var r=t(116),m=t.n(r),s=t(379),o=t.n(s),h=t(107),c=t(135),a=t(152),n=t(127),d=t(312),i=t(137),l=t(114),f=(M,C,j)=>new Promise((U,T)=>{var _=I=>{try{P(j.next(I))}catch(S){T(S)}},D=I=>{try{P(j.throw(I))}catch(S){T(S)}},P=I=>I.done?U(I.value):Promise.resolve(I.value).then(_,D);P((j=j.apply(M,C)).next())});function v(M){M.returnValue=""}function O(){const M=m.a.map(e('.home-files tbody [data-checkbox-group="user_files"]:checked'),C=>e(C).closest("tr").attr("data-filename"));return M.length===0?(c.a.error(Object(l.a)("Please select at least one file to perform this operation.")),null):M}function y(M){return f(this,null,function*(){if(!M){const j=document.createElement("input");j.type="file",j.multiple=!0,j.click(),yield new Promise(U=>{j.onchange=U}),M=j.files}if(!M.length){c.a.warn(Object(l.a)("No file selected."));return}const C=new a.c({$body:`
      <div class="file-label" style="text-align: center; margin-bottom: 5px; color: gray; font-size: small;"></div>
      <div class="bp3-progress-bar bp3-intent-primary bp3-no-stripes">
        <div class="file-progress bp3-progress-meter" style="width: 0"></div>
      </div>
      <div class="upload-label" style="text-align: center; margin: 5px 0; color: gray; font-size: small;"></div>
      <div class="bp3-progress-bar bp3-intent-primary bp3-no-stripes">
        <div class="upload-progress bp3-progress-meter" style="width: 0"></div>
      </div>`});try{c.a.info(Object(l.a)("Uploading files...")),window.addEventListener("beforeunload",v),C.open();const j=C.$dom.find(".dialog__body .upload-label"),U=C.$dom.find(".dialog__body .upload-progress"),T=C.$dom.find(".dialog__body .file-label"),_=C.$dom.find(".dialog__body .file-progress");for(const D in M){if(Number.isNaN(+D))continue;const P=M[D],I=new FormData;I.append("filename",P.name),I.append("file",P),I.append("operation","upload_file"),yield n.a.postFile("",I,{xhr(){const S=new XMLHttpRequest;return S.upload.addEventListener("loadstart",()=>{T.text(`[${+D+1}/${M.length}] ${P.name}`),_.width(`${Math.round((+D+1)/M.length*100)}%`),j.text(Object(l.a)("Uploading... ({0}%)",0)),U.width(0)}),S.upload.addEventListener("progress",L=>{if(L.lengthComputable){const B=Math.round(L.loaded/L.total*100);B===100?j.text(Object(l.a)("Processing...")):j.text(Object(l.a)("Uploading... ({0}%)",B)),U.width(`${B}%`)}},!1),S}})}window.removeEventListener("beforeunload",v),c.a.success(Object(l.a)("File uploaded successfully.")),yield d.a.request({push:!1})}catch(j){console.error(j),c.a.error(Object(l.a)("File upload failed: {0}",j.toString()))}finally{C.close()}})}function g(){return f(this,null,function*(){const M=O();if(!(M===null||(yield new a.b({$body:i.a`
      <div class="typo">
        <p>${Object(l.a)("Confirm to delete the selected files?")}</p>
      </div>`}).open())!=="yes"))try{yield n.a.post("",{operation:"delete_files",files:M}),c.a.success(Object(l.a)("Selected files have been deleted.")),yield d.a.request({push:!1})}catch(j){c.a.error(j.message)}})}function E(M){M.preventDefault()}function p(M){if(M.preventDefault(),!e('[name="upload_testdata"]').length){c.a.error(Object(l.a)("You don't have permission to upload file."));return}M=M.originalEvent;const C=[];if(M.dataTransfer.items){for(let j=0;j<M.dataTransfer.items.length;j++)if(M.dataTransfer.items[j].kind==="file"){const U=M.dataTransfer.items[j].getAsFile();C.push(U)}}else for(let j=0;j<M.dataTransfer.files.length;j++)C.push(M.dataTransfer.files[j]);y(C)}const A=new h.b("home_files",()=>{const M=new o.a(".home-files .col--name",{text:C=>{const j=C.closest("[data-filename]").getAttribute("data-filename");return new URL(`/file/${UserContext._id}/${j}`,window.location.href).toString()}});M.on("success",()=>{c.a.success(Object(l.a)("Download link copied to clipboard!"),1e3)}),M.on("error",()=>{c.a.error(Object(l.a)("Copy failed :("))}),e(document).on("click",".home-files .col--name",C=>C.preventDefault()),e(document).on("click",'[name="upload_file"]',()=>y()),e(document).on("click",'[name="remove_selected"]',()=>g()),e(document).on("dragover",".home-files",C=>E(C)),e(document).on("drop",".home-files",C=>p(C))});u.default=A}.call(this,t(95))},792:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(266),s=t(367),o=t(467),h=t(135),c=t(152),a=t(461),n=(i,l,f)=>new Promise((v,O)=>{var y=p=>{try{E(f.next(p))}catch(A){O(A)}},g=p=>{try{E(f.throw(p))}catch(A){O(A)}},E=p=>p.done?v(p.value):Promise.resolve(p.value).then(y,g);E((f=f.apply(i,l)).next())});const d=new r.b("home_messages",()=>{let i;function l(y){i.dispatch({type:"DIALOGUES_CREATE",payload:{user:y}}),i.dispatch({type:"DIALOGUES_SWITCH_TO",payload:y._id})}function f(){return n(this,null,function*(){const{default:y}=yield Promise.all([t.e(0),t.e(3)]).then(t.bind(null,276)),{default:g}=yield Promise.all([t.e(0),t.e(12)]).then(t.bind(null,1549)),{default:E}=yield Promise.all([t.e(0),t.e(14)]).then(t.bind(null,1537)),{React:p,render:A,Provider:M,store:C}=yield Object(s.a)(E);i=C;const j=new y("/home/messages-conn");j.onmessage=_=>{const D=JSON.parse(_.data);C.dispatch({type:"DIALOGUES_MESSAGE_PUSH",payload:D});const P=new h.a({title:D.udoc.uname,avatar:D.udoc.avatarUrl,message:D.mdoc.content,duration:15e3,action:()=>{C.dispatch({type:"DIALOGUES_SWITCH_TO",payload:D.udoc._id}),P.hide()}});P.show()};const U=a.a.getOrConstruct(e('.dialog__body--user-select [name="user"]')),T=new c.a({$body:e(".dialog__body--user-select > div"),onDispatch(_){return _==="ok"&&U.value()===null?(U.focus(),!1):!0}});T.clear=function(){return U.clear(),this},A(p.createElement(M,{store:C},p.createElement(g,{onAdd:()=>n(this,null,function*(){if((yield T.clear().open())!=="ok")return;const D=U.value();l(D)})})),e("#messagePad").get(0))})}function v(){return n(this,null,function*(){const y=Object(o.a)();if(!y.target)return;const g=yield Object(m.a)(m.b`
      users(search: ${y.target}, exact: true) {
        _id
        uname
        avatarUrl
        mail
      }
    `,["data","users"]);!(g==null?void 0:g.length)||l(g[0])})}function O(){return n(this,null,function*(){yield f(),yield v()})}O()});u.default=d}.call(this,t(95))},793:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(462),s=t(794),o=t(114),h=t(137),c=(n,d,i)=>new Promise((l,f)=>{var v=g=>{try{y(i.next(g))}catch(E){f(E)}},O=g=>{try{y(i.throw(g))}catch(E){f(E)}},y=g=>g.done?l(g.value):Promise.resolve(g.value).then(v,O);y((i=i.apply(n,d)).next())});const a=new r.b("home_preference",()=>c(void 0,null,function*(){function n(){return c(this,null,function*(){const[{default:d},[i,l],f,{render:v}]=yield Promise.all([Promise.all([t.e(0),t.e(6)]).then(t.bind(null,604)),Object(m.a)(),Promise.resolve().then(t.t.bind(null,93,7)),Promise.resolve().then(t.t.bind(null,151,7))]);class O extends f.PureComponent{constructor(C){super(C);this.state={value:UserContext.astyleOptions},[this.success,this.preview]=l(s.a,`${this.state.value.trim()} mode=c`),this.state.highlight=d.highlight(this.preview,d.Prism.languages.cpp,"C++")}render(){return f.createElement(f.Fragment,null)}}function y(M,C){M.empty(),e.each(C,(j,U)=>{M.append(e("<option></option>").attr("value",j).text(U))})}const g=e(h.a`\
<div class="row">
  <div class="medium-5 columns form__item end">
    <label>
      ${Object(o.a)("default_code_language")}
      <div name="form_item_lang" class="select-container">
        <select id="codelang-main-select" class="select"></select>
      </div>
    </label>
  </div>
  <div class="medium-5 columns form__item end" style="display: none" id="codelang-sub-container">
    <label>
      ${Object(o.a)("default_code_version")}
      <div name="form_item_lang" class="select-container">
        <select id="codelang-sub-select" class="select"></select>
      </div>
    </label>
  </div>
</div>
`);e('[name="codeLang"]').parent().parent().parent().parent().hide().after(g);function E(M=!0){const C={};for(const j in window.LANGS)j.startsWith(`${this.value}.`)&&j!==this.value&&(C[j]=window.LANGS[j].display);Object.keys(C).length>1?(y(e("#codelang-sub-select"),C),e("#codelang-sub-container").show(),M&&e('[name="codeLang"]').val(e("#codelang-sub-select").val())):(e("#codelang-sub-container").hide(),M&&e('[name="codeLang"]').val(this.value))}const p={};for(const M in window.LANGS)M.includes(".")||(p[M]=window.LANGS[M].display);y(e("#codelang-main-select"),p);const A=e('[name="codeLang"]').val();if(A.includes(".")){const[M]=A.split(".");e("#codelang-main-select").val(M),E.call({value:M},!1),e("#codelang-sub-select").val(A)}else e("#codelang-main-select").val(A);e("#codelang-main-select").on("change",E),e("#codelang-sub-select").on("change",function(){e('[name="codeLang"]').val(this.value)}),i&&v(f.createElement(O,null),e('[name="form_item_astyleOptions"]').get(0).parentNode.parentNode.parentNode)})}n()}));u.default=a}.call(this,t(95))},794:function(R,u,t){"use strict";u.a=`#include <world.h>

int main() {
    // ~ Switch on the power line / Remember to put on PROTECTION ~
    world.start();

    // ~ Lay down your pieces / And let's begin OBJECT CREATION ~
    // ~ Fill in my data / Parameters INITIALIZATION ~
    auto *me = World::createObject("me", world, parameters...);
    auto &you = *World::createObject("you", world, parameters...);

    // ~ Set up our new world ~
    auto &world = World{me, you};

    // ~ And let's begin the SIMULATION ~
    world.beginSimulation();

    switch (me->type) {
    case Object::SET_OF_POINTS:
        // ~ If I'm a set of points / Then I will give you my DIMENSION ~
        you << dynamic_cast<Set<Point>*>(me)->getDimension();
        break;

    case Object::CIRCLE:
        // ~ If I'm a circle / Then I will give you my CIRCUMFERENCE ~
        you << dynamic_cast<Circle * >(me)->getCircumference();
        break;

    case Object::SINE_WAVE:

        // ~ If I'm a sine wave / Then you can sit on all my TANGENTS ~
        for (auto &tangent : dynamic_cast<SineWave *>(me)->getTangents())
            you.sitOn(tangent);

        break;

    default:
        // ~ If I approach infinity / Then you can be my LIMITATIONS ~
        you.limit() >> me->limit();
    }

    // ~ Switch my current / To AC to DC ~
    me->setCurrent(CurrentType::AC), me->setCurrent(CurrentType::DC);

    // ~ And then blind my vision / So dizzy, so dizzy ~
    delete me->vision;

    // ~ Oh, we can travel / From A.D to B.C ~
    world.setTime(CommonEra::AD, 2016y + 6m + 16d);
    world.setTime(CommonEra::BC, -2016y + 6m + 16d);

    // ~ And we can unite / So deeply, so deeply ~
    world.unite(you, *me);

    // ~ If I can, if I can, give you all THE SIMULATIONS ~
    if (std::all_of(world.simulations.begin(), world.simulations.end(), [&](auto & simulation) {
    return you << me->run(simulation);
    }))
    // ~ Then I can, then I can, be your only SATISFACTION ~
    you.satisfactions = std::vector{me};

    // ~ If I can make you happy / Then I'll run the EXECUTION ~
    try {
        me->execute(you.nextCommand());
    } catch (const NotHappyException &e) {}

    // ~ Though we are trapped in this strange, strange SIMULATION ~
    world.trap(me);

    // ~ EXECUTION / EXECUTION / EXECUTION / EXECUTION ~
    // ~ EXECUTION / EXECUTION / EXECUTION / EXECUTION ~
    // ~ EXECUTION / EXECUTION / EXECUTION / EXECUTION ~
    for (size_t i = 0; i < 3; i++) {
        for (size_t j = 0; j < 4; j++)
            world.continueExecution();
    }

    // ~ EIN / DOS / TROIS / NE / FEM / LIU / EXECUTION ~
    for (size_t i = 1; i <= 6; i++)
        sleepms(500);

    world.continueExecution();

    // ~ If I can, if I can, give you all the EXECUTION ~
    if (std::all_of(world.begin(), world.end(), [&](auto & object) {
    return me->execute(object);
    }))
    // ~ Then I can, then I can, be your only EXECUTION ~
    me->execute(you.nextCommand());

    // ~ If I can, have you back ~
    if (*me << you)
        // ~ Then I will run the EXECUTION ~
        me->execute(you.nextCommand());

    // ~ Though we are trapped / We are trapped ah ~
    world.trap(me);

    // ~ I've studied / I've studied how to properly / LO-O-OVE ~
    me->study(Knowledge::Love);
    // ~ Question me / Question me / I can answer all / LO-O-OVE ~
    you.question(me, Knowledge::Love);
    // ~ I know the algebraic expression of / LO-O-OVE ~
    me->answer(you, Knowledge::Love);
    // ~ Though you are free / I am trapped, trapped in / LO-O-OVE ~
    world.trap(me);

    // ~ EXECUTION ~
    world.execute(me);
}`},795:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(796),s=t(114),o=t(311);const h=new r.b("homework_main",()=>{if(UiContext.docs){const c=UiContext.docs.map(n=>({beginAt:n.beginAt,endAt:n.endAt,title:n.title,maskFrom:n.penaltySince?n.penaltySince:null,maskTitle:Object(s.a)("Time Extension"),colorIndex:Object(o.a)(n._id).timestamp%12,link:n.url}));new m.a(c).getDom().appendTo('[name="calendar_entry"]'),e('[name="homework_display"]').change(n=>{switch(n.currentTarget.value){case"calendar":e(".homework__list").hide(),e('[name="calendar_entry"]').show();break;case"list":e(".homework__list").show(),e('[name="calendar_entry"]').hide();break;default:throw new Error("Unexpected display parameter")}})}});u.default=h}.call(this,t(95))},796:function(R,u,t){"use strict";(function(e){t.d(u,"a",function(){return g});var r=t(116),m=t.n(r),s=t(380),o=t.n(s),h=t(137),c=Object.defineProperty,a=Object.defineProperties,n=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,f=(E,p,A)=>p in E?c(E,p,{enumerable:!0,configurable:!0,writable:!0,value:A}):E[p]=A,v=(E,p)=>{for(var A in p||(p={}))i.call(p,A)&&f(E,A,p[A]);if(d)for(var A of d(p))l.call(p,A)&&f(E,A,p[A]);return E},O=(E,p)=>a(E,n(p)),y=(E,p,A)=>new Promise((M,C)=>{var j=_=>{try{T(A.next(_))}catch(D){C(D)}},U=_=>{try{T(A.throw(_))}catch(D){C(D)}},T=_=>_.done?M(_.value):Promise.resolve(_.value).then(j,U);T((A=A.apply(E,p)).next())});class g{constructor(p){this.$dom=e(h.a`
      <div class="calendar">
        <div class="calendar__header">
          <button name="prev"><span class="icon icon-chevron_left"></span></button>
          <h1 class="calendar__header__title"></h1>
          <button name="next"><span class="icon icon-chevron_right"></span></button>
        </div>
        <div class="calendar__week-title">
          <table>
            <thead><tr>
              <th>SUN</th>
              <th>MON</th>
              <th>TUE</th>
              <th>WED</th>
              <th>THU</th>
              <th>FRI</th>
              <th>SAT</th>
            </tr></thead>
          </table>
        </div>
        <div class="calendar__body-container"></div>
      </div>
    `),this.events=p.map(A=>O(v({},A),{beginAt:o()(A.beginAt),endAt:o()(A.endAt),maskFrom:A.maskFrom?o()(A.maskFrom):null})),this.$dom.find('[name="prev"]').click(()=>this.navToPrev()),this.$dom.find('[name="next"]').click(()=>this.navToNext()),this.$lastBody=null,this.navToToday()}getDom(){return this.$dom}navToToday(){this.animating||(this.current=o()().date(1),this.update())}navToNext(){this.animating||(this.current.add("months",1),this.update(1))}navToPrev(){this.animating||(this.current.subtract("months",1),this.update(-1))}update(p=0){this.updateHeader(),this.updateBody(p)}updateHeader(){this.$dom.find(".calendar__header__title").text(this.current.format("MMMM YYYY"))}updateBody(p){return y(this,null,function*(){this.animating=!0;const A=this.buildBody();A.appendTo(this.$dom.find(".calendar__body-container")),this.$lastBody!==null&&(this.$lastBody.addClass("exit").transition({y:p*100,opacity:0},{duration:500,easing:"easeOutCubic"}),yield A.css({y:-p*100,opacity:0}).transition({y:0,opacity:1},{duration:500,easing:"easeOutCubic"}).promise(),this.$lastBody.remove()),this.$lastBody=A,this.animating=!1})}buildBody(){const p=this.buildBodyData(),A=e('<div class="calendar__body"></div>');return p.forEach(M=>{const C=e(h.a`<div class="calendar__row">
        <div class="calendar__row__bg"><table><tbody><tr></tr></tbody></table></div>
        <div class="calendar__row__content"><table><thead><tr></tr></thead><tbody></tbody></table></div>
      </div>`),j=C.find(".calendar__row__bg tr"),U=C.find(".calendar__row__content thead tr"),T=C.find(".calendar__row__content tbody");M.days.forEach(_=>{const D=_.active?"":"is-inactive",P=_.current?"is-current-day":"",I=_.current?" (TODAY)":"";j.append(e("<td></td>").addClass(D).addClass(P)),U.append(e(h.a`<th>${_.date.format("D")}${I}</th>`).addClass(D).addClass(P))}),M.banners.forEach(_=>{const D=e("<tr/>");_.forEach(P=>{if(!P.banner){D.append(h.a`<td colspan="${P.span}"></td>`);return}const I=e(h.a`<td colspan="${P.span}"></td>`),S=e(h.a`
            <a
              href="${P.banner.event.link}"
              class="calendar__banner color-${P.banner.event.colorIndex}"
            >${P.banner.mask?P.banner.event.maskTitle:P.banner.event.title}</a>
          `);P.banner.mask&&S.addClass("is-masked"),P.banner.beginTrunc?S.addClass("is-trunc-begin"):P.banner.beginSnap&&S.addClass("is-snap-begin"),P.banner.endTrunc?S.addClass("is-trunc-end"):P.banner.endSnap&&S.addClass("is-snap-end"),I.append(S),D.append(I)}),T.append(D)}),A.append(C)}),A}buildBodyData(){const p=[];{const D=this.current.clone(),P=D.day();if(P>0){D.subtract(P+1,"days");for(let I=P;I>0;--I)p.push({active:!1,date:D.add(1,"days").clone()})}}{const D=this.current.clone();for(;D.month()===this.current.month();)p.push({active:!0,date:D.clone()}),D.add(1,"days")}{const D=this.current.clone().add(1,"months").subtract(1,"days"),P=D.day();if(P<6)for(let I=P;I<6;++I)p.push({active:!1,date:D.add(1,"days").clone()})}const A=o()();p.forEach(D=>{D.current=D.date.isSame(A,"day")});const M=m.a.chunk(p,7),C=p.length/7,j=m.a.fill(new Array(C),1).map(()=>[]),U=p[0].date.clone(),T=m.a.last(p).date.clone();this.events.forEach(D=>{if(D.endAt.isBefore(D.beginAt,"day")||D.endAt.isBefore(U,"day")||D.beginAt.isAfter(T,"day"))return;D.beginAt.hour()>=22&&D.beginAt.add(1,"day").startOf("day"),D.endAt.hour()<=2&&D.endAt.subtract(1,"day").endOf("day");let[P,I]=[D.beginAt.clone(),!1];P.isBefore(U,"day")&&([P,I]=[U.clone(),!0]);do{const S=P.clone().endOf("week");let[L,B]=[D.endAt.clone(),!1];L.isAfter(S,"day")&&([L,B]=[S,!0]);const b=P.clone().startOf("day").diff(U.clone().startOf("day"),"week");if(j[b].push({beginAt:P.startOf("day"),beginTrunc:I,endAt:L.endOf("day"),endTrunc:B,event:D}),!B)break;[P,I]=[L.clone().add(1,"day"),!0]}while(!P.isAfter(T,"day"))});const _=j.map(D=>m.a.sortBy(D,[P=>P.beginAt.valueOf(),P=>P.beginTrunc?0:1,P=>-P.endAt.valueOf()])).map(D=>{const P=m.a.fill(new Array(7),1).map(()=>[]);D.forEach(L=>{const B=L.beginAt.day(),b=L.endAt.day(),K=m.a.max(m.a.range(B,b+1).map(w=>P[w].length));let N=0;for(;N<K&&!m.a.every(m.a.range(B,b+1).map(w=>!P[w][N]));++N);for(let w=B;w<=b;++w)P[w][N]=L});const I=m.a.max(m.a.range(0,7).map(L=>P[L].length)),S=m.a.fill(new Array(I),1).map(()=>[]);for(let L=0;L<I;++L){let B={span:1,banner:P[0][L]};S[L].push(B);for(let b=1;b<7;++b){const K=P[b][L];K!==B.banner?(B={span:1,banner:K},S[L].push(B)):B.span++}}return S.forEach(L=>{for(let B=0;B<L.length;++B){const{banner:b}=L[B];if(!!b&&!b.mask&&!!b.event.maskFrom&&!b.event.maskFrom.isSame(b.event.endAt)&&!b.event.endAt.isSame(b.event.beginAt,"day")&&!b.event.maskFrom.isAfter(b.endAt,"day"))if(b.event.maskFrom.isSameOrBefore(b.beginAt,"day"))b.mask=!0;else{const K=O(v({},b),{beginAt:b.event.maskFrom.clone(),beginSnap:!0,beginTrunc:!1,mask:!0}),N={span:K.endAt.day()-K.beginAt.day()+1,banner:K};b.endAt=b.event.maskFrom.clone().subtract(1,"day"),b.endSnap=!0,L[B].span-=N.span,L.splice(B+1,0,N),B++}}}),S});return M.map((D,P)=>({days:D,banners:_[P]}))}}}).call(this,t(95))},797:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=(o,h,c)=>new Promise((a,n)=>{var d=f=>{try{l(c.next(f))}catch(v){n(v)}},i=f=>{try{l(c.throw(f))}catch(v){n(v)}},l=f=>f.done?a(f.value):Promise.resolve(f.value).then(d,i);l((c=c.apply(o,h)).next())});const s=new r.b("manage_dashboard",()=>m(void 0,null,function*(){const{default:o}=yield Promise.all([t.e(0),t.e(3)]).then(t.bind(null,276)),h=new o("/manage/check-conn");h.onopen=()=>{e('<blockquote class="blue"><p>Connection opened.</p></blockquote>').appendTo("#messages")},h.onmessage=c=>{const a=JSON.parse(c.data);if(a.type==="log"){const n=e('<blockquote class="blue">').appendTo("#messages");e(`<p>${a.payload}</p>`).appendTo(n)}else if(a.type==="warn"){const n=e('<blockquote class="yellow">').appendTo("#messages");e(`<p>${a.payload}</p>`).appendTo(n)}else if(a.type==="error"){const n=e('<blockquote class="red">').appendTo("#messages");e(`<p>${a.payload}</p>`).appendTo(n)}},h.onclose=c=>{e(`
    <blockquote class="yellow">
      <p>Connection closed,reason=${JSON.stringify(c.reason)}</p>
    </blockquote>
    `).appendTo("#messages")}}));u.default=s}.call(this,t(95))},798:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(135),s=t(152),o=t(127),h=(a,n,d)=>new Promise((i,l)=>{var f=y=>{try{O(d.next(y))}catch(g){l(g)}},v=y=>{try{O(d.throw(y))}catch(g){l(g)}},O=y=>y.done?i(y.value):Promise.resolve(y.value).then(f,v);O((d=d.apply(a,n)).next())});const c=new r.b("manage_script",()=>{const a=new s.a({$body:e(".dialog__body--run-script > div")});a.clear=function(){return this.$dom.find('[name="args"]').val(""),this},window.runScript=function(n){return h(this,null,function*(){if((yield a.clear().open())!=="ok")return;const i=a.$dom.find('[name="args"]').val();try{const l=yield o.a.post("",{args:i,id:n});window.location.href=l.url}catch(l){m.a.error(l.message)}})}});u.default=c}.call(this,t(95))},799:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(135),s=t(114),o=t(127),h=t(163),c=(n,d,i)=>new Promise((l,f)=>{var v=g=>{try{y(i.next(g))}catch(E){f(E)}},O=g=>{try{y(i.throw(g))}catch(E){f(E)}},y=g=>g.done?l(g.value):Promise.resolve(g.value).then(v,O);y((i=i.apply(n,d)).next())});const a=new r.b("manage_user_import",()=>{function n(d){return c(this,null,function*(){try{const i=yield o.a.post("",{users:e('[name="users"]').val(),draft:d});d?e('[name="messages"]').text(i.messages.join(`
`)):(m.a.success(Object(s.a)("Created {0} users.",i.users.length)),yield Object(h.a)(2e3),window.location.reload())}catch(i){m.a.error(i.message)}})}e('[name="preview"]').on("click",()=>n(!0)),e('[name="submit"]').on("click",()=>n(!1))});u.default=a}.call(this,t(95))},800:function(R,u,t){"use strict";t.r(u),function(e){var r=t(490),m=t(508),s=t(107),o=t(383),h=t(367),c=t(163),a=(i,l,f)=>new Promise((v,O)=>{var y=p=>{try{E(f.next(p))}catch(A){O(A)}},g=p=>{try{E(f.throw(p))}catch(A){O(A)}},E=p=>p.done?v(p.value):Promise.resolve(p.value).then(y,g);E((f=f.apply(i,l)).next())});class n{constructor(){this.isExtended=!1,this.inProgress=!1,this.$content=e(".problem-content-container"),this.$contentBound=this.$content.closest(".section"),this.$scratchpadContainer=e(".scratchpad-container")}extend(){return a(this,null,function*(){if(this.inProgress||this.isExtended)return;this.inProgress=!0;const l=this.$contentBound.get(0).getBoundingClientRect();this.$content.transition({opacity:0},{duration:100}),yield Object(c.a)(100),e("body").addClass("header--collapsed mode--scratchpad"),yield this.$scratchpadContainer.css({left:l.left,top:l.top,width:l.width,height:l.height}).show().transition({left:0,top:0,width:"100%",height:"100%"},{duration:500,easing:"easeOutCubic"}).promise(),e(".main > .row").hide(),e(".footer").hide(),e(window).scrollTop(0),this.inProgress=!1,this.isExtended=!0})}collapse(){return a(this,null,function*(){if(this.inProgress||!this.isExtended)return;this.inProgress=!0,e(window).scrollTop(0),e(".main > .row").show(),e(".footer").show();const l=this.$contentBound.get(0).getBoundingClientRect();e("body").removeClass("header--collapsed mode--scratchpad"),yield this.$scratchpadContainer.transition({left:l.left,top:l.top,width:l.width,height:l.height},{duration:500,easing:"easeOutCubic"}).promise(),this.$scratchpadContainer.hide(),this.$content.transition({opacity:1},{duration:100}),this.inProgress=!1,this.isExtended=!1})}toggle(){this.isExtended?this.collapse():this.extend()}}const d=new s.b(["problem_detail","contest_detail_problem","homework_detail_problem"],i=>a(void 0,null,function*(){var l;let f=!1,v=null,O=null;const y=new n;function g(){return a(this,null,function*(){yield Object(o.b)([UiContext.problemNumId],UiContext.pdoc.title)})}function E(){return a(this,null,function*(){yield e("#scratchpad").transition({opacity:1},{duration:200,easing:"easeOutCubic"}).promise()})}function p(){return a(this,null,function*(){yield e("#scratchpad").transition({opacity:0},{duration:200,easing:"easeOutCubic"}).promise()})}function A(){return a(this,null,function*(){if(f)return;e(".loader-container").show();const{default:T}=yield Promise.all([t.e(0),t.e(3)]).then(t.bind(null,276)),{default:_}=yield Promise.all([t.e(2),t.e(0),t.e(11)]).then(t.bind(null,1329)),{default:D}=yield Promise.all([t.e(0),t.e(16)]).then(t.bind(null,1532)),{React:P,render:I,unmountComponentAtNode:S,Provider:L,store:B}=yield Object(h.a)(D),b=new T(UiContext.pretestConnUrl);b.onmessage=K=>{const N=JSON.parse(K.data);B.dispatch({type:"SCRATCHPAD_RECORDS_PUSH",payload:N})},v=()=>{I(P.createElement(L,{store:B},P.createElement(_,null)),e("#scratchpad").get(0))},O=()=>{S(e("#scratchpad").get(0))},f=!0,e(".loader-container").hide()})}function M(){return a(this,null,function*(){yield y.extend(),yield A(),v(),yield E()})}function C(){return a(this,null,function*(){yield p(),e(".problem-content-container").append(e(".problem-content")),yield y.collapse(),O()})}function j(){return a(this,null,function*(){try{let T="";try{T=JSON.parse(UiContext.pdoc.content)}catch(S){T=UiContext.pdoc.content}if(typeof T=="object"){const S=Object.keys(T),L=S.filter(B=>B.startsWith(UserContext.viewLang));T[UserContext.viewLang]?T=T[UserContext.viewLang]:L.length?T=T[L[0]]:T=T[S[0]]}const _=r.default.load(T);if(!(_ instanceof Array))return;e(".outer-loader-container").show();const[{default:D},P,I]=yield Promise.all([t.e(15).then(t.bind(null,1447)),Promise.resolve().then(t.t.bind(null,93,7)),Promise.resolve().then(t.t.bind(null,151,7))]);I.render(P.createElement("div",{className:"section__body typo"},P.createElement(D,{panel:_,target:UiContext.postSubmitUrl})),e(".problem-content").get(0)),e(".outer-loader-container").hide()}catch(T){}})}function U(){return a(this,null,function*(){if(!Object.keys(UiContext.pdoc.stats||{}).length){e("#submission-status-placeholder").parent().hide();return}const T=yield Promise.all([t.e(8),t.e(0)]).then(t.bind(null,1525)),_=document.getElementById("submission-status-placeholder");T.init(_).setOption({tooltip:{trigger:"item"},series:[{name:"Submissions",type:"pie",radius:"70%",label:{show:!1},labelLine:{show:!1},data:[{value:UiContext.pdoc.stats.TLE,name:"TLE"},{value:UiContext.pdoc.stats.AC,name:"AC"},{value:UiContext.pdoc.stats.MLE,name:"MLE"},{value:UiContext.pdoc.stats.WA,name:"WA"},{value:UiContext.pdoc.stats.RE,name:"RE"},{value:UiContext.pdoc.stats.CE,name:"CE"},{value:UiContext.pdoc.stats.SE,name:"SE"},{value:UiContext.pdoc.stats.IGN,name:"IGN"}]}]});const P=document.getElementById("submission-score-placeholder"),I=Array.from({length:101},(L,B)=>B).filter(L=>UiContext.pdoc.stats[`s${L}`]);T.init(P).setOption({tooltip:{trigger:"item"},xAxis:{data:I},yAxis:{},series:[{data:I.map(L=>({value:UiContext.pdoc.stats[`s${L}`],itemStyle:{color:Object(m.b)(L)}})),type:"bar"}]})})}e(document).on("click",'[name="problem-sidebar__open-scratchpad"]',T=>{M(),T.preventDefault()}),e(document).on("click",'[name="problem-sidebar__quit-scratchpad"]',T=>{C(),T.preventDefault()}),e(document).on("click",'[name="show_tags"]',T=>{e(T.currentTarget).hide(),e("span.tags").css("display","inline-block")}),e('[name="problem-sidebar__download').on("click",g),((l=UiContext.pdoc.config)==null?void 0:l.type)==="objective"&&j(),i!=="contest_detail_problem"&&U()}));u.default=d}.call(this,t(95))},805:function(R,u,t){"use strict";t.r(u),function(e){var r=t(116),m=t.n(r),s=t(107),o=t(127),h=t(137),c=t(114),a=t(152),n=t(384),d=t(315),i=t(135),l=(C,j,U)=>new Promise((T,_)=>{var D=S=>{try{I(U.next(S))}catch(L){_(L)}},P=S=>{try{I(U.throw(S))}catch(L){_(L)}},I=S=>S.done?T(S.value):Promise.resolve(S.value).then(D,P);I((U=U.apply(C,j)).next())});const f={},v=[],O=[],y=[];function g(C,j){j?C.addClass("selected"):C.removeClass("selected")}function E(){return l(this,null,function*(){v.forEach(({type:T,category:_,subcategory:D})=>{let P=f[_];const I=P.select||m.a.some(P.children,S=>S.select);if(g(P.$tag,I),I?O.push(_):m.a.pull(O,_),T==="subcategory"){P=f[_].children[D],g(P.$tag,P.select);const S=D;P.select?O.push(S):m.a.pull(O,S)}});const C=m.a.uniq(O.filter(T=>T.indexOf(",")!==-1).map(T=>T.split(",")[0])),j=m.a.uniq(m.a.pullAll(O,C));v.length=0,e('[name="tag"]').val([...j,...y].join(", "))})}function p(C){const j=Object.keys(f);if(j.includes(C))return[C,null];for(const U of j)if(Object.keys(f[U].children).includes(C))return[U,C];return[null,null]}function A(){const C=e('[name="tag"]');y.length=0,C.val().split(",").map(j=>j.trim()).forEach(j=>{if(!j)return;const[U,T]=p(j);U?T?(f[U].children[T].select=!0,v.push({type:"subcategory",subcategory:T,category:U})):(f[U].select=!0,v.push({type:"category",category:U})):y.push(j)}),E()}function M(){const C=e("[data-widget-cf-container]");!C||(C.attr("class","widget--category-filter row small-up-3 medium-up-2"),C.children("li").get().forEach(j=>{const U=e(j).attr("class","widget--category-filter__category column"),T=U.find(".section__title a").remove().attr("class","widget--category-filter__category-tag"),_=T.text(),D=U.children(".chip-list").remove().attr("class","widget--category-filter__drop"),P={select:!1,$tag:T,children:{}};f[_]=P,U.empty().append(T),D.length>0&&(D.children("li").attr("class","widget--category-filter__subcategory").find("a").attr("class","widget--category-filter__subcategory-tag").attr("data-category",_).get().forEach(S=>{const L=e(S);P.children[L.text()]={select:!1,$tag:L}}),n.a.getOrConstruct(T,{target:D[0],position:"left center"}))}),e(document).on("click",".widget--category-filter__category-tag",j=>{if(j.shiftKey||j.metaKey||j.ctrlKey)return;const U=e(j.currentTarget).text(),T=f[U],_=T.$tag.hasClass("selected")?!1:!T.select;T.select=_,v.push({type:"category",category:U}),_||m.a.forEach(T.children,(D,P)=>{D.select&&(D.select=!1,v.push({type:"subcategory",subcategory:P,category:U}))}),E(),j.preventDefault()}),e(document).on("click",".widget--category-filter__subcategory-tag",j=>{if(j.shiftKey||j.metaKey||j.ctrlKey)return;const U=e(j.currentTarget).text(),T=e(j.currentTarget).attr("data-category"),_=f[T].children[U];_.select=!_.select,v.push({type:"subcategory",subcategory:U,category:T}),E(),j.preventDefault()}))}u.default=new s.b(["problem_create","problem_edit"],C=>{let j=!1;e(document).on("click",'[name="operation"]',b=>{if(b.preventDefault(),j)return o.a.post(".",{operation:"delete"}).then(N=>{window.location.href=N.url}).catch(N=>{i.a.error(N.message)});const K="Confirm deleting this problem? Its files, submissions, discussions and solutions will be deleted as well.";return new a.b({$body:h.a`
        <div class="typo">
          <p>${Object(c.a)(K)}</p>
        </div>`}).open().then(N=>{N==="yes"&&(j=!0,b.target.click())})}),e(document).on("change",'[name="tag"]',A),M(),A(),setInterval(()=>{e("img").each(function(){this.src.startsWith("file://")&&this.setAttribute("src",this.src.replace("file://","./file/"))})},200);const U=e("textarea[data-editor]"),T=e("textarea[data-markdown-upload]");let _=T.val(),D=!1,P=e("[data-lang]").first().attr("data-lang");try{_=JSON.parse(_),D=!(_ instanceof Array),D||(_=JSON.stringify(_))}catch(b){}D||(_={[P]:_});const I={accept:"image/*,.mp3, .wav, .zip",url:"./files",extraData:{type:"additional_file",operation:"upload_file"},multiple:!1,fieldName:"file",setHeaders(){return{accept:"application/json"}},format(b,K){const N=JSON.parse(K);return N.error?JSON.stringify({msg:N.error.message,code:-1,data:{errFiles:[b[0].name],succMap:{}}}):JSON.stringify({msg:"",code:0,data:{errFiles:[],succMap:{[b[0].name]:`file://${b[0].name.replace(/[^(a-zA-Z0-9\u4e00-\u9fa5.)]/g,"").replace(/[?\\/:|<>*[\]()$%{}@~]/g,"").replace(/\s/g,"")}`}}})},filename(b){return b.replace(/[^(a-zA-Z0-9\u4e00-\u9fa5.)]/g,"").replace(/[?\\/:|<>*[\]()$%{}@~]/g,"").replace(/\s/g,"")},validate:()=>C==="problem_create"?Object(c.a)("Cannot upload file before problem is created."):!0};function S(b){let K="";if(_[b])K=_[b];else{const N=Object.keys(_).filter(w=>w.startsWith(b));N.length&&(K=_[N[0]])}return typeof K!="string"&&(K=JSON.stringify(K)),K}U.val(S(P));function L(b){try{b=JSON.parse(b),b instanceof Array||(b=JSON.stringify(b))}catch(N){}/^\s*$/g.test(b)?delete _[P]:_[P]=b,Object.keys(_).length?T.text(JSON.stringify(_)):T.text("")}const B=d.default.getOrConstruct(U,{upload:I,onChange:L});e("[data-lang]").on("click",b=>{const K=e(b.currentTarget).attr("data-lang");P=K;const N=S(K);B.value(N)}),e('[type="submit"]').on("click",b=>{e('[name="title"]').val().toString().length||(i.a.error(Object(c.a)("Title is required.")),e("body").scrollTop(),e("html, body").animate({scrollTop:0},300,()=>e('[name="title"]').focus()),b.preventDefault())})})}.call(this,t(95))},807:function(R,u,t){"use strict";t.r(u),function(e){var r=t(116),m=t.n(r),s=t(107),o=t(135),h=t(152),c=t(383),a=t(510),n=t(127),d=t(312),i=t(137),l=t(114),f=(g,E,p)=>new Promise((A,M)=>{var C=T=>{try{U(p.next(T))}catch(_){M(_)}},j=T=>{try{U(p.throw(T))}catch(_){M(_)}},U=T=>T.done?A(T.value):Promise.resolve(T.value).then(C,j);U((p=p.apply(g,E)).next())});function v(g,E){return f(this,null,function*(){const{links:p,pdoc:A}=yield n.a.post("",{operation:"get_links",files:E,type:g}),M=[];for(const C of Object.keys(p))M.push({filename:C,url:p[C]});yield Object(c.a)(`${A.docId} ${A.title}.zip`,M)})}function O(g){g.returnValue=""}const y=new s.b("problem_files",()=>{function g(T){const _=m.a.map(e(`.problem-files-${T} tbody [data-checkbox-group="${T}"]:checked`),D=>e(D).closest("tr").attr("data-filename"));return _.length===0?(o.a.error(Object(l.a)("Please select at least one file to perform this operation.")),null):_}function E(T,_){return f(this,null,function*(){if(!_){const P=document.createElement("input");P.type="file",P.multiple=!0,P.click(),yield new Promise(I=>{P.onchange=I}),_=P.files}if(!_.length){o.a.warn(Object(l.a)("No file selected."));return}const D=new h.c({$body:`
        <div class="file-label" style="text-align: center; margin-bottom: 5px; color: gray; font-size: small;"></div>
        <div class="bp3-progress-bar bp3-intent-primary bp3-no-stripes">
          <div class="file-progress bp3-progress-meter" style="width: 0"></div>
        </div>
        <div class="upload-label" style="text-align: center; margin: 5px 0; color: gray; font-size: small;"></div>
        <div class="bp3-progress-bar bp3-intent-primary bp3-no-stripes">
          <div class="upload-progress bp3-progress-meter" style="width: 0"></div>
        </div>`});try{o.a.info(Object(l.a)("Uploading files...")),window.addEventListener("beforeunload",O),D.open();const P=D.$dom.find(".dialog__body .upload-label"),I=D.$dom.find(".dialog__body .upload-progress"),S=D.$dom.find(".dialog__body .file-label"),L=D.$dom.find(".dialog__body .file-progress");for(const B in _){if(Number.isNaN(+B))continue;const b=_[B],K=new FormData;K.append("filename",b.name),K.append("file",b),K.append("type",T),K.append("operation","upload_file"),yield n.a.postFile("",K,{xhr(){const N=new XMLHttpRequest;return N.upload.addEventListener("loadstart",()=>{S.text(`[${+B+1}/${_.length}] ${b.name}`),L.width(`${Math.round((+B+1)/_.length*100)}%`),P.text(Object(l.a)("Uploading... ({0}%)",0)),I.width(0)}),N.upload.addEventListener("progress",w=>{if(w.lengthComputable){const x=Math.round(w.loaded/w.total*100);x===100?P.text(Object(l.a)("Processing...")):P.text(Object(l.a)("Uploading... ({0}%)",x)),I.width(`${x}%`)}},!1),N}})}window.removeEventListener("beforeunload",O),o.a.success(Object(l.a)("File uploaded successfully.")),yield d.a.request({push:!1})}catch(P){console.error(P),o.a.error(Object(l.a)("File upload failed: {0}",P.toString()))}finally{D.close()}})}function p(T){return f(this,null,function*(){const _=g(T);_!==null&&(yield v(T,_))})}function A(T){return f(this,null,function*(){const _=g(T);if(!(_===null||(yield new h.b({$body:i.a`
        <div class="typo">
          <p>${Object(l.a)("Confirm to delete the selected files?")}</p>
        </div>`}).open())!=="yes"))try{yield n.a.post("",{operation:"delete_files",files:_,type:T}),o.a.success(Object(l.a)("Selected files have been deleted.")),yield d.a.request({push:!1})}catch(P){o.a.error(P.message)}})}function M(T,_){_.preventDefault()}function C(T,_){if(_.preventDefault(),!e('[name="upload_testdata"]').length){o.a.error(Object(l.a)("You don't have permission to upload file."));return}_=_.originalEvent;const D=[];if(_.dataTransfer.items){for(let P=0;P<_.dataTransfer.items.length;P++)if(_.dataTransfer.items[P].kind==="file"){const I=_.dataTransfer.items[P].getAsFile();D.push(I)}}else for(let P=0;P<_.dataTransfer.files.length;P++)D.push(_.dataTransfer.files[P]);E(T,D)}function j(T,_){return f(this,null,function*(){const{default:D}=yield Promise.resolve().then(t.bind(null,315)),P=new h.a({$body:i.a`
        <div class="typo" style="width: 100%; height: 100%">
          <textarea name="fileContent" style="width: 100%; height: 100%"></textarea>
        </div>`,width:`${window.innerWidth-200}px`,height:`${window.innerHeight-100}px`,cancelByEsc:!1}).open(),I={yaml:"yaml",yml:"yaml",cc:"cpp",json:"json"}[T.split(".").pop()]||"plain",S=new D(e('[name="fileContent"]'),{value:_,autoResize:!1,autoLayout:!1,language:I,model:`hydro://problem/file/${T}`}),L=yield P;return _=S.value().replace(/\r\n/g,`
`),S.destory(),L!=="ok"?null:_})}function U(T,_){return f(this,null,function*(){if((_==null?void 0:_.metaKey)||(_==null?void 0:_.ctrlKey)||(_==null?void 0:_.shiftKey))return;_&&_.preventDefault();const D=_?_.currentTarget.closest("[data-filename]").getAttribute("data-filename"):prompt("Filename");if(!D)return;const P=_?+_.currentTarget.closest("[data-size]").getAttribute("data-size"):0;let I="";if(_){const B=e(_.currentTarget).find("a").attr("href");if(!B)return;P>8*1024*1024&&o.a.error(Object(l.a)("file too large")),o.a.info(Object(l.a)("Loading file..."));const b=yield n.a.get(B);I=yield n.a.get(b.url,void 0,{dataType:"text"})}else o.a.info(Object(l.a)("Loading editor..."));const S=yield j(D,I);if(typeof S!="string")return;o.a.info(Object(l.a)("Saving file..."));const L=new FormData;L.append("filename",D),L.append("file",new Blob([S],{type:"text/plain"})),L.append("type",T),L.append("operation","upload_file"),yield n.a.postFile("",L),o.a.success(Object(l.a)("File saved.")),yield d.a.request({push:!1})})}e('[name="upload_testdata"]').length&&(e(document).on("click",".problem-files-testdata .col--name",T=>U("testdata",T)),e(document).on("click",".problem-files-additional_file .col--name",T=>U("additional_file",T)),e(document).on("click",'[name="upload_testdata"]',()=>E("testdata")),e(document).on("click",'[name="upload_file"]',()=>E("additional_file")),e(document).on("click",'[name="create_testdata"]',()=>U("testdata")),e(document).on("click",'[name="create_file"]',()=>U("additional_file")),e(document).on("click",'[name="remove_selected_testdata"]',()=>A("testdata")),e(document).on("click",'[name="remove_selected_file"]',()=>A("additional_file"))),e(document).on("dragover",".problem-files-testdata",T=>M("testdata",T)),e(document).on("dragover",".problem-files-additional_file",T=>M("additional_file",T)),e(document).on("drop",".problem-files-testdata",T=>C("testdata",T)),e(document).on("drop",".problem-files-additional_file",T=>C("additional_file",T)),e(document).on("click",'[name="download_selected_testdata"]',()=>p("testdata")),e(document).on("click",'[name="download_selected_file"]',()=>p("additional_file")),e(document).on("vjContentNew",T=>{Object(a.a)("Hint::icon::testdata",e(T.target).find('[name="create_testdata"]').get(0).parentNode.parentNode.children[0])}),Object(a.a)("Hint::icon::testdata",e(document).find('[name="create_testdata"]').get(0).parentNode.parentNode.children[0])});u.default=y}.call(this,t(95))},808:function(R,u,t){"use strict";t.r(u);var e=t(116),r=t.n(e),m=t(95),s=t.n(m),o=t(107),h=t(135),c=t(152),a=t(384),n=t(510),d=t(383),i=t(312),l=t(260),f=t(127),v=t(137),O=t(163),y=t(114),g=(I,S,L)=>new Promise((B,b)=>{var K=x=>{try{w(L.next(x))}catch(H){b(H)}},N=x=>{try{w(L.throw(x))}catch(H){b(H)}},w=x=>x.done?B(x.value):Promise.resolve(x.value).then(K,N);w((L=L.apply(I,S)).next())});const E={},p=[],A=[];function M(I,S){S?I.addClass("selected"):I.removeClass("selected")}function C(I=!0){return g(this,null,function*(){if(p.forEach(({type:S,category:L,subcategory:B})=>{let b=E[L];const K=b.select||r.a.some(b.children,N=>N.select);if(M(b.$tag,K),K?A.push(L):r.a.pull(A,L),S==="subcategory"){b=E[L].children[B],M(b.$tag,b.select);const N=B;b.select?A.push(N):r.a.pull(A,N)}}),p.length=0,I){const S=r.a.uniq(A.filter(K=>K.indexOf(",")!==-1).map(K=>K.split(",")[0])),L=r.a.uniq(r.a.pullAll(A,S));let B;L.length===0?B=UiContext.getProblemUrlWithoutCategory:B=Object(l.a)(decodeURIComponent(UiContext.getProblemUrlWithCategory),{category:L.map(K=>K.split(",").map(encodeURIComponent).join(",")).join(",")});const b=s()('[name="q"]').val();b&&(B+=`?q=${b}`),i.a.request({url:B})}})}function j(){const I=s()("[data-widget-cf-container]");!I||(I.attr("class","widget--category-filter row small-up-3 medium-up-2"),I.children("li").get().forEach(S=>{const L=s()(S).attr("class","widget--category-filter__category column"),B=L.find(".section__title a").remove().attr("class","widget--category-filter__category-tag"),b=B.text(),K=L.children(".chip-list").remove().attr("class","widget--category-filter__drop"),N={select:!1,$tag:B,children:{}};E[b]=N,L.empty().append(B),K.length>0&&(B.text(`${B.text()}`),K.children("li").attr("class","widget--category-filter__subcategory").find("a").attr("class","widget--category-filter__subcategory-tag").attr("data-category",b).get().forEach(x=>{const H=s()(x);N.children[H.text()]={select:!1,$tag:H}}),a.a.getOrConstruct(B,{target:K[0],position:"left center"}))}),s()(document).on("click",".widget--category-filter__category-tag",S=>{if(S.shiftKey||S.metaKey||S.ctrlKey)return;const L=s()(S.currentTarget).text(),B=E[L],b=B.$tag.hasClass("selected")?!1:!B.select;B.select=b,p.push({type:"category",category:L}),b||r.a.forEach(B.children,(K,N)=>{K.select&&(K.select=!1,p.push({type:"subcategory",subcategory:N,category:L}))}),C(),S.preventDefault()}),s()(document).on("click",".widget--category-filter__subcategory-tag",S=>{if(S.shiftKey||S.metaKey||S.ctrlKey)return;const L=s()(S.currentTarget).text(),B=s()(S.currentTarget).attr("data-category"),b=E[B].children[L];b.select=!b.select,p.push({type:"subcategory",subcategory:L,category:B}),C(),S.preventDefault()}))}function U(){UiContext.currentCategory.split(" ").forEach(I=>{const[S,L]=I.split(",");!E[S]||L&&!E[S].children[L]||(L?(E[S].children[L].select=!0,p.push({type:"subcategory",subcategory:L,category:S})):(E[S].select=!0,p.push({type:"category",category:S})))}),C(!1)}function T(){const I=r.a.map(s()('tbody [data-checkbox-group="problem"]:checked'),S=>s()(S).closest("tr").attr("data-pid"));return I.length===0?(h.a.error(Object(y.a)("Please select at least one problem to perform this operation.")),null):I}function _(I){return g(this,null,function*(){const S=T();if(S!==null&&!(I==="delete"&&(yield new c.b({$body:v.a`
        <div class="typo">
          <p>${Object(y.a)("Confirm to delete the selected problems?")}</p>
        </div>`}).open())!=="yes"))try{yield f.a.post("",{operation:I,pids:S}),h.a.success(Object(y.a)(`Selected problems have been ${I}d.`)),yield Object(O.a)(2e3),window.location.reload()}catch(L){h.a.error(L.message)}})}function D(I){return g(this,null,function*(){let S="Export";I.shiftKey&&(S=prompt("Filename:",S));const L=T();L&&(yield Object(d.b)(L,S))})}const P=new o.b(["problem_main","problem_category"],()=>{const I=document.body;I.className+=" display-mode",s()(".section.display-mode").removeClass("display-mode"),j(),U(),s()('[name="leave-edit-mode"]').on("click",()=>{I.className=I.className.replace(" edit-mode"," display-mode")}),s()('[name="enter-edit-mode"]').on("click",()=>{I.className=I.className.replace(" display-mode"," edit-mode")}),s()('[name="remove_selected_problems"]').on("click",()=>_("delete")),s()('[name="hide_selected_problems"]').on("click",()=>_("hide")),s()('[name="unhide_selected_problems"]').on("click",()=>_("unhide")),s()('[name="download_selected_problems"]').on("click",D),s()("#hideTags").on("click",()=>s()(".problem__tags").hide()),s()("#search").on("click",L=>{L.preventDefault(),C()}),s()("#searchForm").on("submit",C);let S;s()("#searchForm").find("input").on("input",()=>{S&&clearTimeout(S),S=setTimeout(C,500)}),s()(document).on("click","a.pager__item",L=>{L.preventDefault(),i.a.request(L.currentTarget.getAttribute("href")).then(()=>window.scrollTo(0,0))}),s()(document).on("vjContentNew",L=>{Object(n.a)("Hint::icon::difficulty",s()(L.target).find("th.col--difficulty"))}),Object(n.a)("Hint::icon::difficulty",s()(document).find("th.col--difficulty"))});u.default=P},809:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(137),s=t(114),o=t(152);const h=new r.b(["problem_create","problem_edit","problem_solution","problem_submit","problem_files","discussion_node","discussion_detail"],()=>{e(document).on("click",'[name="problem-sidebar__show-category"]',c=>{e(c.currentTarget).hide(),e('[name="problem-sidebar__categories"]').show()}),e(document).on("click",'[name="problem-sidebar__rejudge"]',c=>{c.preventDefault(),new o.b({$body:m.a.typoMsg(Object(s.a)("Confirm rejudge this problem?"))}).open().then(a=>{a==="yes"&&e(c.currentTarget).closest("form").trigger("submit")})})});u.default=h}.call(this,t(95))},810:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=(h,c,a)=>new Promise((n,d)=>{var i=v=>{try{f(a.next(v))}catch(O){d(O)}},l=v=>{try{f(a.throw(v))}catch(O){d(O)}},f=v=>v.done?n(v.value):Promise.resolve(v.value).then(i,l);f((a=a.apply(h,c)).next())});function s(h,c){h.empty(),e.each(c,(a,n)=>{h.append(e("<option></option>").attr("value",a).text(n))})}const o=new r.b(["problem_submit","contest_detail_problem_submit","homework_detail_problem_submit"],()=>m(void 0,null,function*(){const{domainId:h}=UiContext.pdocConfig;function c(d=!0){const i={};for(const l in window.LANGS)UiContext.pdocConfig.langs&&!UiContext.pdocConfig.langs.includes(l)||window.LANGS[l].domain&&!window.LANGS[l].domain.includes(h)||l.startsWith(`${this.value}.`)&&l!==this.value&&(i[l]=window.LANGS[l].display);return s(e("#codelang-sub-select"),i),Object.keys(i).length?(e("#codelang-sub-container").show(),d&&e('[name="lang"]').val(e("#codelang-sub-select").val())):(e("#codelang-sub-container").hide(),d&&e('[name="lang"]').val(this.value)),Object.keys(i)[0]}const a={};for(const d in window.LANGS)UiContext.pdocConfig.langs&&!UiContext.pdocConfig.langs.filter(i=>i===d||i.startsWith(`${d}.`)).length||window.LANGS[d].domain&&!window.LANGS[d].domain.includes(h)||d.includes(".")||(a[d]=window.LANGS[d].display);s(e("#codelang-main-select"),a);const n=e('[name="lang"]').val();if(n.includes(".")){const[d]=n.split(".");e("#codelang-main-select").val(d);const i=c.call({value:d},!1);e("#codelang-sub-select").val(n),i&&!e("#codelang-sub-select").val()&&(e("#codelang-sub-select").val(i),e('[name="lang"]').val(i))}else e("#codelang-main-select").val(n);e("#codelang-main-select").on("change",c),e("#codelang-sub-select").on("change",function(){e('[name="lang"]').val(this.value)})}));u.default=o}.call(this,t(95))},811:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=(o,h,c)=>new Promise((a,n)=>{var d=f=>{try{l(c.next(f))}catch(v){n(v)}},i=f=>{try{l(c.throw(f))}catch(v){n(v)}},l=f=>f.done?a(f.value):Promise.resolve(f.value).then(d,i);l((c=c.apply(o,h)).next())});const s=new r.b("record_detail",()=>m(void 0,null,function*(){const[{default:o},{DiffDOM:h}]=yield Promise.all([Promise.all([t.e(0),t.e(3)]).then(t.bind(null,276)),t.e(0).then(t.bind(null,667))]),c=new o(UiContext.socketUrl),a=new h;c.onmessage=n=>{const d=JSON.parse(n.data),i=e(d.status_html),l=e("#status");a.apply(l[0],a.diff(l[0],i[0]));const f=e(d.summary_html),v=e("#summary");a.apply(v[0],a.diff(v[0],f[0]))}}));u.default=s}.call(this,t(95))},812:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(461),s=t(676),o=(c,a,n)=>new Promise((d,i)=>{var l=O=>{try{v(n.next(O))}catch(y){i(y)}},f=O=>{try{v(n.throw(O))}catch(y){i(y)}},v=O=>O.done?d(O.value):Promise.resolve(O.value).then(l,f);v((n=n.apply(c,a)).next())});const h=new r.b("record_main",()=>o(void 0,null,function*(){const[{default:c},{DiffDOM:a}]=yield Promise.all([Promise.all([t.e(0),t.e(3)]).then(t.bind(null,276)),t.e(0).then(t.bind(null,667))]),n=new c(UiContext.socketUrl),d=new a;let i=!0;n.onopen=()=>{i&&n.send(JSON.stringify({rids:UiContext.rids})),i=!1},n.onmessage=l=>{const f=JSON.parse(l.data),v=e(f.html),O=e(`.record_main__table tr[data-rid="${v.attr("data-rid")}"]`);O.length?(O.trigger("vjContentRemove"),d.apply(O[0],d.diff(O[0],v[0])),O.trigger("vjContentNew")):(e(".record_main__table tbody").prepend(v),e(".record_main__table tbody tr:last").remove(),v.trigger("vjContentNew"))},m.a.getOrConstruct(e('[name="uidOrName"]'),{clearDefaultValue:!1}),s.a.getOrConstruct(e('[name="pid"]'),{clearDefaultValue:!1})}));u.default=h}.call(this,t(95))},813:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(264),s=(c,a,n)=>new Promise((d,i)=>{var l=O=>{try{v(n.next(O))}catch(y){i(y)}},f=O=>{try{v(n.throw(O))}catch(y){i(y)}},v=O=>O.done?d(O.value):Promise.resolve(O.value).then(l,f);v((n=n.apply(c,a)).next())});function o(c,a){return s(this,null,function*(){const n=e(c.currentTarget).closest(".training__section");if(n.is(`.${a}d, .animating`))return;n.addClass("animating");const d=n.find(".training__section__detail");a==="expand"?yield Object(m.a)(d,300,{opacity:0},{opacity:1}):yield Object(m.b)(d,300,{opacity:1},{opacity:0}),n.addClass(`${a}d`),n.removeClass(a==="expand"?"collapsed":"expanded"),n.removeClass("animating")})}const h=new r.b("training_detail",()=>{e(document).on("click",'[name="training__section__expand"]',c=>o(c,"expand")),e(document).on("click",'[name="training__section__collapse"]',c=>o(c,"collapse"))});u.default=h}.call(this,t(95))},814:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(152),s=t(137),o=t(114),h=t(127);u.default=new r.b("training_edit",()=>{let c=!1;e(document).on("click",'[name="operation"]',a=>{if(a.preventDefault(),c)return h.a.post(".",{operation:"delete"}).then(d=>{window.location.href=d.url});const n="Confirm deleting this training? Its status will be deleted as well.";return new m.b({$body:s.a.typoMsg(Object(o.a)(n))}).open().then(d=>{d==="yes"&&(c=!0,a.target.click())})})})}.call(this,t(95))},815:function(R,u,t){"use strict";t.r(u),function(e){var r=t(379),m=t.n(r),s=t(107),o=t(260),h=t(135),c=t(114),a=t(816);const n=new s.b("user_detail",()=>{e("[data-copy]").get().forEach(d=>{const i=e(d).attr("data-copy"),l=a.a.decode(i),f=new m.a(d,{text:()=>l});f.on("success",()=>{h.a.success(Object(o.a)(Object(c.a)('"{data}" copied to clipboard!'),{data:l}),2e3)}),f.on("error",()=>{h.a.error(Object(o.a)(Object(c.a)('Copy "{data}" failed :('),{data:l}))})})});u.default=n}.call(this,t(95))},816:function(R,u,t){"use strict";const e={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode(r){let m="",s,o,h,c,a,n,d,i=0;for(r=e._utf8_encode(r);i<r.length;)s=r.charCodeAt(i++),o=r.charCodeAt(i++),h=r.charCodeAt(i++),c=s>>2,a=(s&3)<<4|o>>4,n=(o&15)<<2|h>>6,d=h&63,Number.isNaN(o)?n=d=64:Number.isNaN(h)&&(d=64),m=m+this._keyStr.charAt(c)+this._keyStr.charAt(a)+this._keyStr.charAt(n)+this._keyStr.charAt(d);return m},decode(r){let m="",s,o,h,c,a,n,d,i=0;for(r=r.replace(/[^A-Za-z0-9+/=]/g,"");i<r.length;)c=this._keyStr.indexOf(r.charAt(i++)),a=this._keyStr.indexOf(r.charAt(i++)),n=this._keyStr.indexOf(r.charAt(i++)),d=this._keyStr.indexOf(r.charAt(i++)),s=c<<2|a>>4,o=(a&15)<<4|n>>2,h=(n&3)<<6|d,m+=String.fromCharCode(s),n!==64&&(m+=String.fromCharCode(o)),d!==64&&(m+=String.fromCharCode(h));return m=e._utf8_decode(m),m},_utf8_encode(r){r=r.replace(/\r\n/g,`
`);let m="";for(let s=0;s<r.length;s++){const o=r.charCodeAt(s);o<128?m+=String.fromCharCode(o):o>127&&o<2048?(m+=String.fromCharCode(o>>6|192),m+=String.fromCharCode(o&63|128)):(m+=String.fromCharCode(o>>12|224),m+=String.fromCharCode(o>>6&63|128),m+=String.fromCharCode(o&63|128))}return m},_utf8_decode(r){let m="",s=0,o=0,h=0,c=0;for(;s<r.length;)o=r.charCodeAt(s),o<128?(m+=String.fromCharCode(o),s++):o>191&&o<224?(h=r.charCodeAt(s+1),m+=String.fromCharCode((o&31)<<6|h&63),s+=2):(h=r.charCodeAt(s+1),c=r.charCodeAt(s+2),m+=String.fromCharCode((o&15)<<12|(h&63)<<6|c&63),s+=3);return m}};u.a=e,window.Hydro.utils.base64=e},817:function(R,u,t){var e={"./contest/contest.page.ts":818,"./datepicker/datepicker.page.ts":819,"./discussion/comments.page.js":820,"./dropdown/dropdown.page.ts":823,"./editor/cmeditor.page.ts":824,"./footer/footer.page.ts":825,"./form/form.page.ts":826,"./form/multiSelectCheckbox.page.js":827,"./form/textbox.page.ts":828,"./highlighter/highlighter.page.ts":829,"./hitokoto/index.page.js":830,"./hotkey/hotkey.page.js":831,"./katex/katex.page.js":832,"./marker/marker.page.js":833,"./media/media.page.js":836,"./menu/menu-heading.page.js":837,"./menu/menu.page.js":838,"./message/index.page.js":1547,"./navigation/navigation.page.js":839,"./notification/notification.page.js":843,"./problem/create.page.js":844,"./problem/list.page.js":845,"./signin/signInDialog.page.js":846,"./smoothscroll/smoothscroll.page.js":847,"./star/star.page.js":848,"./sticky/sticky.page.js":849,"./tab/tab.page.js":850,"./table/styledTable.page.js":852,"./time/time.page.js":854,"./tooltip/tooltip.page.js":861,"./vote/vote.page.js":862};function r(s){var o=m(s);return t(o)}function m(s){if(!t.o(e,s)){var o=new Error("Cannot find module '"+s+"'");throw o.code="MODULE_NOT_FOUND",o}return e[s]}r.keys=function(){return Object.keys(e)},r.resolve=m,R.exports=r,r.id=817},818:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(163),s=t(114),o=t(127),h=t(135);const c=new r.a("contestPage",()=>{e("[data-contest-code]").on("click",a=>{a.preventDefault();const n=prompt(Object(s.a)("Invitation code:"));o.a.post("",{operation:"attend",code:n}).then(()=>{h.a.success(Object(s.a)("Successfully attended")),Object(m.a)(1e3).then(()=>window.location.reload())}).catch(d=>{h.a.error(d.message||d)})})});u.default=c}.call(this,t(95))},819:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=(o,h,c)=>new Promise((a,n)=>{var d=f=>{try{l(c.next(f))}catch(v){n(v)}},i=f=>{try{l(c.throw(f))}catch(v){n(v)}},l=f=>f.done?a(f.value):Promise.resolve(f.value).then(d,i);l((c=c.apply(o,h)).next())});const s=new r.a("datepickerPage",()=>m(void 0,null,function*(){e("[data-pick-date]").length&&(yield t.e(0).then(t.t.bind(null,1451,7)),e("[data-pick-date]").pickadate({format:"yyyy-m-d",editable:!0,clear:!1})),e("[data-pick-time]").length&&(yield t.e(0).then(t.t.bind(null,1452,7)),e("[data-pick-time]").pickatime({format:"H:i",editable:!0,interval:15,clear:!1}))}));u.default=s}.call(this,t(95))},820:function(R,u,t){"use strict";t.r(u),function(e){var r=t(265),m=t.n(r),s=t(107),o=t(821),h=t(152),c=t(163),a=t(264),n=t(127),d=t(114),i=t(137),l=Object.defineProperty,f=Object.defineProperties,v=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(w,x,H)=>x in w?l(w,x,{enumerable:!0,configurable:!0,writable:!0,value:H}):w[x]=H,p=(w,x)=>{for(var H in x||(x={}))y.call(x,H)&&E(w,H,x[H]);if(O)for(var H of O(x))g.call(x,H)&&E(w,H,x[H]);return w},A=(w,x)=>f(w,v(x)),M=(w,x,H)=>new Promise((z,X)=>{var Q=G=>{try{k(H.next(G))}catch(q){X(q)}},Z=G=>{try{k(H.throw(G))}catch(q){X(q)}},k=G=>G.done?z(G.value):Promise.resolve(G.value).then(Q,Z);k((H=H.apply(w,x)).next())});const C=e(".commentbox-container").eq(0).clone();function j(w){return C.clone().hide().prependTo(w.find(".commentbox-reply-target").eq(0)).trigger("vjContentNew").find(".commentbox-placeholder")}function U(w){return M(this,null,function*(){const x=w.find(".commentbox-container"),H=x.parent()[0].getBoundingClientRect(),z=document.body.getBoundingClientRect();if(H.top<100||H.top+100>window.innerHeight){const X=H.top-z.top-window.innerHeight*.382;e("html, body").stop().animate({scrollTop:X},400,"easeOutCubic"),yield Object(c.a)(300)}x.css("opacity",0),yield Object(a.a)(x,300),yield x.transition({opacity:1},{duration:200}).promise(),x.removeAttr("style")})}function T(w){return M(this,null,function*(){const x=w.find(".commentbox-container");x.css("opacity",1),yield x.transition({opacity:0},{duration:200}).promise(),yield Object(a.b)(x,300),x.remove()})}function _(w){const x=e(w.currentTarget);if(o.a.get(x)){o.a.get(x).focus();return}const H=x.closest(".media__body"),z={form:JSON.parse(x.attr("data-form")),mode:"comment",onCancel:()=>{H.removeClass("is-editing")}};H.addClass("is-editing"),o.a.getOrConstruct(x,z).appendTo(H.find(".commentbox-placeholder").eq(0)).focus()}function D(w){return M(this,arguments,function*(x,H={}){const z=e(x.currentTarget);if(o.a.get(z)){o.a.get(z).insertText(H.initialText||"").focus();return}const X=z.closest(".media__body"),Q=A(p({initialText:"",mode:"reply"},H),{onCancel:()=>M(this,null,function*(){yield T(X)})}),Z=o.a.getOrConstruct(z,p({form:JSON.parse(z.attr("data-form"))},Q)).appendTo(j(X));yield U(X),Z.focus()})}function P(w){return M(this,null,function*(){const x=e(w.currentTarget),z=x.closest(".media__body").find(".user-profile-name").attr("href").split("/user/")[1];x.closest(".dczcomments__item").find('[name="dczcomments__op-reply-comment"]').eq(0).trigger("click",{initialText:`@[](/user/${z.trim()}) `})})}function I(w,x){return M(this,null,function*(){const H=e(x.currentTarget);if(o.a.get(H)){o.a.get(H).focus();return}const z=H.closest(".media__body"),Q={initialText:yield n.a.get(z.find(".typo").eq(0).attr("data-raw-url"),{},{dataType:"text"}),form:JSON.parse(H.attr("data-form")),mode:w,onCancel:()=>{z.removeClass("is-editing")}};z.addClass("is-editing"),o.a.getOrConstruct(H,Q).appendTo(z.find(".commentbox-edit-target").eq(0)).focus()})}function S(w){return I("comment-update",w)}function L(w){return I("reply-update",w)}function B(w,x){return M(this,null,function*(){const H=w==="comment"?"Confirm deleting this comment? Its replies will be deleted as well.":"Confirm deleting this reply?";if((yield new h.b({$body:i.a.typoMsg(Object(d.a)(H))}).open())!=="yes")return;const X=e(x.currentTarget),Q=JSON.parse(X.attr("data-form"));yield n.a.post("",Q),window.location.reload()})}function b(w){B("comment",w)}function K(w){B("reply",w)}const N=new s.a("commentsPage",()=>{e(document).on("click",'[name="dczcomments__dummy-box"]',_),e(document).on("click",'[name="dczcomments__op-reply-comment"]',D),e(document).on("click",'[name="dczcomments__op-reply-reply"]',P),e(document).on("click",'[name="dczcomments__op-edit-comment"]',S),e(document).on("click",'[name="dczcomments__op-edit-reply"]',L),e(document).on("click",'[name="dczcomments__op-delete-comment"]',b),e(document).on("click",'[name="dczcomments__op-delete-reply"]',K)});u.default=N}.call(this,t(95))},821:function(R,u,t){"use strict";(function(e){t.d(u,"a",function(){return U});var r=t(116),m=t.n(r),s=t(172),o=t(127),h=t(822),c=t(135),a=Object.defineProperty,n=Object.defineProperties,d=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,v=(T,_,D)=>_ in T?a(T,_,{enumerable:!0,configurable:!0,writable:!0,value:D}):T[_]=D,O=(T,_)=>{for(var D in _||(_={}))l.call(_,D)&&v(T,D,_[D]);if(i)for(var D of i(_))f.call(_,D)&&v(T,D,_[D]);return T},y=(T,_)=>n(T,d(_)),g=(T,_,D)=>new Promise((P,I)=>{var S=b=>{try{B(D.next(b))}catch(K){I(K)}},L=b=>{try{B(D.throw(b))}catch(K){I(K)}},B=b=>b.done?P(b.value):Promise.resolve(b.value).then(S,L);B((D=D.apply(T,_)).next())});let E=!1;const p=e(".dczcomments__box").eq(0).clone();function A(T){return T.closest(".dczcomments__box").data("instance")}function M(T){const _=A(e(T.currentTarget));_&&_.onCancel(T)}function C(T){const _=A(e(T.currentTarget));_&&_.onSubmit(T),T.preventDefault()}function j(){E||(e(document).on("submit",'[name="dczcomments__box__form"]',C),e(document).on("vjCommentBoxCancel",'[name="dczcomments__box__form"]',M),e(document).on("click",'[name="dczcomments__box__cancel"]',M),E=!0)}class U extends s.a{constructor(_,D={}){super(_);if(j(),this.$box=p.clone(),this.$box.data("instance",this),this.options=O({initialText:null,mode:null,form:null,onCancel:()=>null},D),this.options.initialText&&this.setText(this.options.initialText),this.options.mode){const P=this.$box.find(".dczcomments__box__submit");P.val(P.attr(`data-value-${this.options.mode}`))}}getTextareaHandler(){const _=this.$box.find("textarea");return h.a.getOrConstruct(_)}focus(){return this.getTextareaHandler().focus(),this}setText(_){return this.getTextareaHandler().val(_),this}getText(){return this.getTextareaHandler().val()}insertText(_){const D=this.getTextareaHandler();return D.val(D.val()+_),this}appendTo(_){return this.$box.appendTo(_),this.$box.trigger("vjContentNew"),this}onSubmit(){return g(this,null,function*(){try{yield o.a.post("",y(O({},this.options.form),{content:this.getText()})),window.location.reload()}catch(_){c.a.error(_.message)}})}onCancel(_){return g(this,null,function*(){yield this.options.onCancel(_),this.$box.remove(),this.detach()})}}U.DOMAttachKey="vjCommentBoxInstance",m.a.assign(U,s.a)}).call(this,t(95))},822:function(R,u,t){"use strict";t.d(u,"a",function(){return o});var e=t(116),r=t.n(e),m=t(172),s=t(315);class o extends m.a{getCmEditor(){return s.default.get(this.$dom)}isCmEditor(){const c=this.getCmEditor();return!!(c&&c.isValid)}val(...c){return this.isCmEditor()?this.getCmEditor().value(...c):this.$dom.val(...c)}focus(){this.isCmEditor()&&this.getCmEditor().focus(),this.$dom.focus()}}o.DOMAttachKey="vjTextareaHandlerInstance",r.a.assign(o,m.a)},823:function(R,u,t){"use strict";t.r(u);var e=t(107),r=t(384);const m=new e.a("dropdownPage",()=>{r.a.registerLifeCycleHooks()});u.default=m},824:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(163),s=t(315),o=(a,n,d)=>new Promise((i,l)=>{var f=y=>{try{O(d.next(y))}catch(g){l(g)}},v=y=>{try{O(d.throw(y))}catch(g){l(g)}},O=y=>y.done?i(y.value):Promise.resolve(y.value).then(f,v);O((d=d.apply(a,n)).next())});function h(a){for(const n of["markdown","yaml","json","plain"])a.find(`textarea[data-${n}]`).get().forEach(d=>{s.default.getOrConstruct(e(d),{language:n})})}const c=new r.a("cmEditorPage",()=>{h(e("body")),e(document).on("vjContentNew",a=>o(void 0,null,function*(){yield Object(m.a)(0),h(e(a.target))}))});u.default=c}.call(this,t(95))},825:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(236),s=t(264),o=t(269),h=t.t(269,1),c=(n,d,i)=>new Promise((l,f)=>{var v=g=>{try{y(i.next(g))}catch(E){f(E)}},O=g=>{try{y(i.throw(g))}catch(E){f(E)}},y=g=>g.done?l(g.value):Promise.resolve(g.value).then(v,O);y((i=i.apply(n,d)).next())});const a=new r.a("footerPage",()=>{!e(".footer").length||e(".footer__category.expandable > h1").on("click",n=>c(void 0,null,function*(){if(!Object(m.b)(o.mobile))return;const d=e(n.currentTarget).closest(".footer__category"),i=d.find(".footer__category__expander");d.hasClass("animating")||(d.addClass("animating"),d.hasClass("expanded")?(d.removeClass("expanded"),yield Object(s.b)(i,300,{opacity:1},{opacity:0})):(d.addClass("expanded"),yield Object(s.a)(i,300,{opacity:0},{opacity:1})),d.removeClass("animating"))}))});u.default=a}.call(this,t(95))},826:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(163);const s=new r.a("formPage",()=>{e(document).on("vjFormDisableUpdate","input, select, textarea",h=>{const c=e(h.currentTarget);c.closest(".form__item")[c.prop("disabled")?"addClass":"removeClass"]("is--disabled")});const o={};e(document).on("click",'[type="submit"]',h=>{o[h.currentTarget]&&h.preventDefault(),o[h.currentTarget]=!0,Object(m.a)(5e3).then(()=>{o[h.currentTarget]=!1})})});u.default=s}.call(this,t(95))},827:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107);const m={};function s(a){return(n,d)=>d.getAttribute("data-checkbox-group")===a}function o(a){const n=e(a.currentTarget),d=n.attr("data-checkbox-group"),i=e('[type="checkbox"]').filter(s(d)).filter(":visible").filter(":not(:disabled)");if(a.shiftKey&&m[d]){const l=m[d].prop("checked"),f=i.index(m[d]),v=i.index(n),O=Math.min(f,v),y=Math.max(f,v)+1;i.slice(O,y).prop("checked",l)}m[d]=n}function h(a){const n=e(a.currentTarget),d=n.attr("data-checkbox-toggle"),i=e('[type="checkbox"]').filter(s(d)).filter(":visible").filter(":not(:disabled)"),l=n.prop("checked");i.prop("checked",l)}const c=new r.a("multiSelectCheckboxPage",()=>{e(document).on("click","[data-checkbox-range]",o),e(document).on("click","[data-checkbox-toggle]",h)});u.default=c}.call(this,t(95))},828:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107);const m=new r.a("textboxPage",()=>{e(document).on("focusin",".textbox.material input",o=>{e(o.currentTarget).parent().addClass("focus")}),e(document).on("focusout",".textbox.material input",o=>{e(o.currentTarget).parent().removeClass("focus")});const s=e(document.activeElement);s.prop("tagName")==="INPUT"&&s.parent().is(".textbox.material")&&s.focusin()});u.default=m}.call(this,t(95))},829:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(137),s=t(114);const o=new r.a("highlighterPage",()=>{Promise.all([t.e(0),t.e(6)]).then(t.bind(null,604)).then(({default:h})=>{function c(a){h.highlightBlocks(a),a.find("pre code").get().forEach(n=>{const i=e(n).parent().parent(),f=(e(n).attr("class")||"").trim().match(/language-([a-z0-9]+)/);if(f&&f[1]&&f[1].toLowerCase().startsWith("input")){const v=+f[1].substr(5,f[1].length-5);if(Number.isSafeInteger(v)){const O=a.find(`pre.language-output${v}`);if(O.length){const y=e(document.createElement("div")).addClass("row");i.after(y),i.prepend(e(m.a`<h2>${Object(s.a)("Sample Input")} ${v}</h2>`)).addClass("medium-6 columns sample").appendTo(y),O.parent().prepend(e(m.a`<h2>${Object(s.a)("Sample Output")} ${v}</h2>`)).addClass("medium-6 columns sample").appendTo(y)}}}})}c(e("body")),e(document).on("vjContentNew",a=>c(e(a.target)))})});u.default=o}.call(this,t(95))},830:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(127),s=t(114),o=t(137);const h=new r.a("hitokotoPage",()=>{function c(a){a.get().forEach(n=>{m.a.get("https://v1.hitokoto.cn?c=a&c=b&c=c&c=d&c=e&c=f").then(d=>{e(o.a`<p>${d.hitokoto}</p>`).appendTo(n)}).catch(d=>{console.error(d),e(o.a`<p>${Object(s.a)("Cannot get hitokoto.")}</p>`).appendTo(n)})})}e('[name="hitokoto"]')&&c(e('[name="hitokoto"]')),e(document).on("vjContentNew",a=>{const n=e(a.target).find('[name="hitokoto"]');n.get&&c(n)})});u.default=h}.call(this,t(95))},831:function(R,u,t){"use strict";t.r(u),function(e){var r=t(116),m=t.n(r),s=t(107);const o={10:"enter",13:"enter",27:"esc",37:"left",38:"up",39:"right",40:"down",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12"};function h(n,d){const i=d.toLowerCase().split("+");return m.a.isEqual(n,i.sort())}function c(n,d,i){!d.is(":visible")||String(d.attr(i)).split(",").forEach(l=>{const[f,v]=l.split(":");if(h(n,f))switch(v){case"submit":d.closest("form").trigger("submit");break;case void 0:d.trigger("click");break;default:d.trigger(v);break}})}const a=new s.a("hotkeyPage",()=>{e(document).on("keydown",n=>{const d=["alt","ctrl","shift"].filter(i=>n[`${i}Key`]);n.metaKey&&!n.ctrlKey&&d.push("ctrl"),o[n.which]!==void 0?d.push(o[n.which]):d.push(String.fromCharCode(n.which).toLowerCase()),d.sort(),e("[data-global-hotkey]").get().forEach(i=>{c(d,e(i),"data-global-hotkey")}),e(n.target).parents("[data-hotkey]").get().forEach(i=>{c(d,e(i),"data-hotkey")})})});u.default=a}.call(this,t(95))},832:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107);const m=new r.a("katexPage",()=>{t.e(0).then(t.bind(null,1550)).then(({default:s})=>{function o(h){h.get().forEach(c=>s(c,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0}]}))}o(e(".typo")),e(document).on("vjContentNew",h=>o(e(h.target).find(".typo")))})});u.default=m}.call(this,t(95))},833:function(R,u,t){"use strict";t.r(u);var e=t(107),r=t(834);const m=new e.a("markerPage",()=>{r.a.initAll()});u.default=m},834:function(R,u,t){"use strict";(function(e){t.d(u,"a",function(){return n});var r=t(116),m=t.n(r),s=t(163),o=t(172),h=t(835),c=(d,i,l)=>new Promise((f,v)=>{var O=E=>{try{g(l.next(E))}catch(p){v(p)}},y=E=>{try{g(l.throw(E))}catch(p){v(p)}},g=E=>E.done?f(E.value):Promise.resolve(E.value).then(O,y);g((l=l.apply(d,i)).next())});const a=class extends o.a{static initFromDOM(d){return a.getOrConstruct(d)}static initAll(){e("[data-marker-enabled]").get().forEach(d=>a.initFromDOM(e(d)))}constructor(d){super(d);this._onMouseUp=this.onMouseUp.bind(this),this.bindEventHandlers()}bindEventHandlers(){this.$dom.on("mouseup",this._onMouseUp)}unbindEventHandlers(){this.$dom.off("mouseup",this._onMouseUp)}onMouseUp(d){return c(this,null,function*(){if(yield Object(s.a)(1),!window.getSelection)return;const i=window.getSelection();!i||i.rangeCount===0||i.getRangeAt(0).collapsed||h.a.showAtPosition(this.$dom,d.clientX,d.clientY)})}detach(){this.detached||(this.unbindEventHandlers(),h.a.close(),super.detach())}};let n=a;n.DOMAttachKey="vjMarkerReactiveInstance",m.a.assign(n,o.a)}).call(this,t(95))},835:function(R,u,t){"use strict";(function(e){var r=t(116),m=t.n(r),s=t(163),o=t(511),h=t(114),c=(O,y,g)=>new Promise((E,p)=>{var A=j=>{try{C(g.next(j))}catch(U){p(U)}},M=j=>{try{C(g.throw(j))}catch(U){p(U)}},C=j=>j.done?E(j.value):Promise.resolve(j.value).then(A,M);C((g=g.apply(O,y)).next())});const a=`marker_${Math.floor(Math.random()*16777215).toString(16)}`,n=20,d=60;let i=null;function l(O,y,g){const E=(g.left+g.right)/2,p=(g.top+g.bottom)/2,A=Math.max(Math.abs(O-E)-(g.right-g.left)/2,0),M=Math.max(Math.abs(y-p)-(g.bottom-g.top)/2,0);return Math.sqrt(A*A+M*M)}class f{static exists(){return i&&document.getElementById(a)}constructor(){if(f.exists())return i;i&&i.destroy(),this.$dom=e(`
      <div class="marker" id="${a}"><div class="marker__toolbar">
        <div class="marker__action" data-color="#ffff00" data-tooltip="${Object(h.a)("Mark Yellow")}"><span class="marker__icon icon-yellow"></span></div>
        <div class="marker__action" data-color="#47ff6f" data-tooltip="${Object(h.a)("Mark Green")}"><span class="marker__icon icon-green"></span></div>
        <div class="marker__action" data-color="transparent" data-tooltip="${Object(h.a)("Clear Marks")}"><span class="icon icon-erase"></span></div>
      </div></div>
    `).appendTo("body"),this.$dom.find(".marker__toolbar").on("click",".marker__action",this.onMarkerActionClick.bind(this)),this.$dom.on("mousedown",this.onMarkerMouseDown.bind(this)),this.isOpen=!1,this.bindedHandlers=!1,this._onKeyDown=this.onKeyDown.bind(this),this._onScroll=m.a.throttle(this.onScroll.bind(this),50),this._onMouseDown=this.onMouseDown.bind(this),this._onMouseMove=m.a.throttle(this.onMouseMove.bind(this),50),i=this}markSelection(y){const g=window.getSelection(),E=g.getRangeAt(0);this.$container.attr("contentEditable",!0),E&&(g.removeAllRanges(),g.addRange(E)),document.execCommand("HiliteColor",!1,y)||document.execCommand("BackColor",!1,y),this.$container.removeAttr("contentEditable"),E&&g.removeAllRanges()}showAtPosition(y,g,E){this.$container=y,this.$dom.css({display:"block",opacity:0});const p=this.$dom[0].getBoundingClientRect();this.$dom.css({left:g+n,top:E-(p.bottom-p.top)-n}),this.isOpen=!0,this.$dom.addClass("open"),this.updateMarkerOpacity(g,E),this.bindEventHandlersForClosing()}close(){return c(this,null,function*(){!this.isOpen||(this.isOpen=!1,this.closeTooltipsImmediately(),this.unbindEventHandlers(),this.$dom.css({opacity:0}).removeClass("open"),yield Object(s.a)(200),this.isOpen||this.$dom.hide())})}closeTooltipsImmediately(){this.$dom.find("[data-tooltip]").get().forEach(g=>{const E=e(g),p=o.a.get(E);p&&p.detach()})}bindEventHandlersForClosing(){this.bindedHandlers||(e(document).on("keydown",this._onKeyDown),e(window).on("scroll",this._onScroll),e(document).on("mousedown",this._onMouseDown),e(document).on("mousemove",this._onMouseMove),this.bindedHandlers=!0)}unbindEventHandlers(){!this.bindedHandlers||(e(document).off("keydown",this._onKeyDown),e(window).off("scroll",this._onScroll),e(document).off("mousedown",this._onMouseDown),e(document).off("mousemove",this._onMouseMove),this.bindedHandlers=!1)}onMarkerActionClick(y){const g=e(y.currentTarget).attr("data-color");this.markSelection(g),this.close()}onMarkerMouseDown(y){y.stopPropagation(),y.preventDefault()}onKeyDown(){this.close()}onScroll(){this.close()}onMouseMove(y){this.updateMarkerOpacity(y.clientX,y.clientY)}onMouseDown(){this.close()}updateMarkerOpacity(y,g){const E=this.$dom[0].getBoundingClientRect(),p=l(y,g,E);if(p>d){this.close();return}this.$dom.css("opacity",1-p/d)}destroy(){this.close(),this.$dom.remove(),i=null}}const v={close(){!i||i.close()},showAtPosition(O,y,g){new f().showAtPosition(O,y,g)}};u.a=v}).call(this,t(95))},836:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(127),s=(o,h,c)=>new Promise((a,n)=>{var d=f=>{try{l(c.next(f))}catch(v){n(v)}},i=f=>{try{l(c.throw(f))}catch(v){n(v)}},l=f=>f.done?a(f.value):Promise.resolve(f.value).then(d,i);l((c=c.apply(o,h)).next())});u.default=new r.a("media",()=>s(void 0,null,function*(){function o(){return s(this,arguments,function*(h=e(document.body)){const c=[],a=[],n=h.find("div[data-user]"),d=(l,f)=>{c.push(f),a.push(v=>v&&e(l).replaceWith(e(v)))};if(n.get().forEach(l=>d(l,{type:"user",id:+e(l).text()})),h.find(".typo").get().forEach(l=>{e(l).find("a[href]").get().forEach(f=>{if(e(f).parent().hasClass("user-profile-link"))return;let v=e(f).attr("href"),{domainId:O}=UiContext;if(v.startsWith(UiContext.url_prefix)&&(v.replace(UiContext.url_prefix,""),v.startsWith("/")||(v=`/${v}`)),!v.startsWith("/")||v.startsWith("//"))return;if(v.startsWith("/d/")){const[,,p,...A]=v.split("/");O=p,v=`/${A.join("/")}`}const[,y,g,E]=v.split("/");!g||(y==="user"&&Number.isInteger(+g)&&!E&&d(f,{type:"user",id:+g}),y==="p"&&!E&&d(f,{type:"problem",id:g,domainId:O}),y==="contest"&&!E&&d(f,{type:"contest",id:g,domainId:O}))})}),!c.length)return;const i=yield m.a.post(`/d/${UiContext.domainId}/media`,{items:c});for(let l=0;l<i.length;l++)a[l](i[l])})}yield o(),e(document).on("vjContentNew",h=>o(e(h.target)))}))}.call(this,t(95))},837:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(137);const s=new r.a("menuHeadingPage",null,()=>{e("[data-heading-extract-to]").get().forEach(o=>{const h=e(o),c=e("body").find(h.attr("data-heading-extract-to"));if(c.length===0)return;let a=c.children(".menu");a.length===0&&(a=e(m.a`<ul class="menu collapsed"></ul>`).appendTo(c),c.children(".menu__link").addClass("expandable")),h.find("[data-heading]").get().forEach(n=>{const d=e(n);e(m.a`
        <li class="menu__item">
          <a class="menu__link" href="#${d.attr("id")||""}">
            ${d.text()}
          </a>
        </li>
      `).appendTo(a)})})});u.default=s}.call(this,t(95))},838:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(264),s=t(163),o=(n,d,i)=>new Promise((l,f)=>{var v=g=>{try{y(i.next(g))}catch(E){f(E)}},O=g=>{try{y(i.throw(g))}catch(E){f(E)}},y=g=>g.done?l(g.value):Promise.resolve(g.value).then(v,O);y((i=i.apply(n,d)).next())});function h(n){Object(m.a)(n,500,{opacity:0},{opacity:1})}function c(){return o(this,null,function*(){yield Object(s.a)(200),e(".menu.collapsed").get().forEach(n=>h(e(n)))})}const a=new r.a("menuPage",()=>{c()});u.default=a}.call(this,t(95))},839:function(R,u,t){"use strict";t.r(u),function(e){var r=t(840),m=t.n(r),s=t(107),o=t(127);function h(a){const n=e(a.currentTarget);o.a.post(n.attr("href")).then(()=>window.location.reload()),a.preventDefault()}const c=new s.a("navigationPage",()=>{if(!document.getElementById("panel")||!document.getElementById("menu"))return;e(document).on("click",'[name="nav_logout"]',h);const a=new m.a({panel:document.getElementById("panel"),menu:document.getElementById("menu"),padding:200,tolerance:70,side:"right"});[["beforeopen","add"],["beforeclose","remove"]].forEach(([d,i])=>{a.on(d,()=>e(".header__hamburger .hamburger")[`${i}Class`]("is-active"))});const n=e(".slideout-overlay");n.click(()=>a.close()),a.on("beforeopen",()=>n.show()),a.on("beforeclose",()=>n.hide()),e(".header__hamburger").click(()=>a.toggle())});u.default=c}.call(this,t(95))},843:function(R,u,t){"use strict";t.r(u);var e=t(107),r=t(135),m=t(114);u.default=new e.a("notificationPage",s=>{const o=Object(m.a)(`Hint::Page::${s}`),h=localStorage.getItem(`hint.${o}`);o!==`Hint::Page::${s}`&&!h&&(r.a.info(o,o.length*500),localStorage.setItem(`hint.${o}`,!0));const c=new URL(window.location.href).searchParams.get("notification");c&&r.a.success(c)})},844:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(152),s=t(137),o=t(114);u.default=new r.b(["problem_create","problem_edit","problem_import_syzoj"],()=>{e('input[name="pid"]').on("blur",()=>{/^[0-9]+$/.test(e('input[name="pid"]').val())&&new m.d({$body:s.a.typoMsg(Object(o.a)("Problem ID cannot be a pure number. Leave blank if you want to use numberic id."))}).open()})})}.call(this,t(95))},845:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107);u.default=new r.a("problemListPage",()=>{e(".col--problem-name>a").attr("target","_blank"),e(document).on("vjContentNew",()=>{e(".col--problem-name>a").attr("target","_blank")})})}.call(this,t(95))},846:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(488),s=t(152),o=t(269),h=t.t(269,1),c=t(236),a=t(114),n=t(137);const d=new r.a("signinDialogPage",null,()=>{const i=m.a.getOrConstruct(e(".dialog--signin"),{cancelByClickingBack:!0,cancelByEsc:!0});e('[name="nav_login"]').length>0&&e('[name="nav_login"]').on("click",l=>{Object(c.b)(o.mobile)||l.shiftKey||l.metaKey||l.ctrlKey||(i.show(),l.preventDefault())}),e(".dialog--signin").length>0&&e('[name="dialog--signin__close"]').on("click",()=>{i.hide()}),window.showSignInDialog=()=>{if(Object(c.b)(o.mobile)&&e('[name="nav_login"]').length>0){window.location.href=e('[name="nav_login"]').attr("href");return}i.show()},e("[data-lostpass]").on("click",l=>{l.preventDefault(),new s.d({$body:n.a`<p>${Object(a.a)("Relax and try to remember your password.")}</p>`}).open()})});u.default=d}.call(this,t(95))},847:function(R,u,t){"use strict";t.r(u),function(e){var r=t(265),m=t.n(r),s=t(107);const o=new s.a("smoothScrollPage",null,()=>{const h=!!(typeof window.history=="object"&&window.history.pushState),c=/^#[^ ]+$/,a=10+(e(".nav").height()||0);function n(l,f){if(!c.test(l))return!1;const v=document.getElementById(l.slice(1));if(!v)return!1;const O=v.getBoundingClientRect(),y=window.pageYOffset+O.top-a;return e("html,body").animate({scrollTop:y},200,"easeOutCubic"),h&&f&&window.history.pushState({},document.title,window.location.pathname+l),!0}function d(){n(window.location.hash)}function i(l){if(l.metaKey||l.ctrlKey||l.shiftKey)return;const f=l.target;f.nodeName==="A"&&n(f.getAttribute("href"),!0)&&l.preventDefault()}e(document).on("vjPageFullyInitialized",()=>{d(),window.addEventListener("hashchange",d),document.body.addEventListener("click",i)})});u.default=o}.call(this,t(95))},848:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(127);function s(h,c){c?h.addClass("activated"):h.removeClass("activated")}const o=new r.a("starPage",()=>{e(document).on("click",".star",h=>{const c=e(h.currentTarget),a=c.hasClass("activated"),n=c.closest("form");return n.find('[name="operation"]').val(a?"unstar":"star"),s(c,!a),m.a.post(n.attr("action"),n).then(d=>{s(c,d.star)}).catch(()=>{s(c,a)}),!1})});u.default=o}.call(this,t(95))},849:function(R,u,t){"use strict";t.r(u),function(e){var r=t(512),m=t.n(r),s=t(116),o=t.n(s),h=t(236),c=t(107),a=t(269),n=t.t(269,1);const d=Object(h.b)(a.mobile)?0:e(".nav").height();function i(O){O.get().forEach(y=>{const g=e(y),E=Object(h.a)(g.data("sticky-cutoff-min")),p=g.data("sticky-enabled");if(E&&!p){const A={},M=g.closest("[data-sticky-parent]");M.length>0&&(A.parent=M),A.offset_top=10+d,g.stick_in_parent(A),g.data("sticky-enabled",!0)}else!E&&p&&(g.trigger("sticky_kit:detach"),g.data("sticky-enabled",!1))})}function l(O){return O==="medium"?a.mobile:O==="large"?a.desktop:0}function f(){e("body").trigger("sticky_kit:recalc")}const v=new c.a("stickyPage",()=>{let O=!1;const y=e("[data-sticky]");y.get().forEach(g=>{const E=e(g),p=E.attr("data-sticky");(p==="medium"||p==="large")&&(O=!0),E.data("sticky-cutoff-min",l(p)),E.data("sticky-enabled",!1)}),i(y),O&&e(window).on("resize",o.a.throttle(()=>i(y),300)),e(document).on("vjLayout",o.a.throttle(f,100))});u.default=v}.call(this,t(95))},850:function(R,u,t){"use strict";t.r(u);var e=t(107),r=t(851);const m=new e.a("tabPage",()=>{r.a.initAll(),r.a.initEventListeners()});u.default=m},851:function(R,u,t){"use strict";(function(e){t.d(u,"a",function(){return a});var r=t(116),m=t.n(r),s=t(172),o=(n,d,i)=>new Promise((l,f)=>{var v=g=>{try{y(i.next(g))}catch(E){f(E)}},O=g=>{try{y(i.throw(g))}catch(E){f(E)}},y=g=>g.done?l(g.value):Promise.resolve(g.value).then(v,O);y((i=i.apply(n,d)).next())});const h=300,c=class extends s.a{static initAll(){e(".section__tabs").get().forEach(n=>{c.getOrConstruct(e(n))})}static initEventListeners(){e(document).on("click","[data-tab-index]",n=>{const d=e(n.currentTarget).attr("data-tab-index"),i=e(n.currentTarget).closest(".section__tab-container");c.get(i).switchToTab(+d)})}constructor(n){super(n);this.attached=!1,this.attach()}switchToTab(n){return o(this,null,function*(){if(n===this.currentIndex||this.isAnimating)return;const d=this.$content.children(),i=d.eq(this.currentIndex),l=d.eq(n);this.$header.children().removeClass("selected").eq(n).addClass("selected"),this.isAnimating=!0,l.addClass("active");const f={};n<this.currentIndex?(f.from="-100%",f.to="0%"):(f.from="0%",f.to="-100%"),l.css("opacity",0),this.$content.css("x",f.from).width(),i.transition({opacity:0},{duration:h,easing:"linear"}),l.transition({opacity:1},{duration:h,easing:"linear"}),yield this.$content.transition({x:f.to},{duration:h,easing:"easeOutCubic"}).promise(),this.$content.children().eq(this.currentIndex).removeClass("active"),this.$content.css("x","0"),this.currentIndex=n,this.isAnimating=!1})}attach(){if(this.attached)return!1;const n=this.$dom.closest(".section__tab-container"),d=e(document.createElement("div")).addClass("section__tab-header-wrapper").appendTo(n),i=e(document.createElement("div")).appendTo(n);return this.$header=e(document.createElement("ul")).addClass("section__tab-header").attr("data-slideout-ignore","on").appendTo(d),this.$content=e(document.createElement("div")).addClass("section__tab-content").appendTo(i),this.$dom.find(".section__tab-title").get().forEach((l,f)=>{e(document.createElement("li")).text(e(l).text()).addClass("section__tab-header-item").attr("data-tab-index",f).appendTo(this.$header)}),this.$dom.find(".section__tab-main").appendTo(this.$content),this.$dom.remove(),this.$dom=n,this.currentIndex=0,this.$content.children().eq(0).addClass("active"),this.$header.children().eq(0).addClass("selected"),!0}};let a=c;a.DOMAttachKey="vjTabInstance",m.a.assign(a,s.a)}).call(this,t(95))},852:function(R,u,t){"use strict";t.r(u);var e=t(107),r=t(853);const m=new e.a("styledTablePage",()=>{r.a.registerLifeCycleHooks()});u.default=m},853:function(R,u,t){"use strict";(function(e){t.d(u,"a",function(){return i});var r=t(512),m=t.n(r),s=t(116),o=t.n(s),h=t(172),c=t(236),a=t(269),n=t.t(269,1);const d=Object(c.b)(a.mobile)?0:e(".nav").height();class i extends h.a{constructor(f){if(f.closest(".section__body").length===0){super(null);return}super(f);this.$container=e("<div>").addClass("section__table-container"),this.$container.insertBefore(this.$dom),this.$header=e("<table>"),this.$header.attr("class",`${this.$dom.attr("class")} section__table-header`),this.$container.append(this.$header).append(this.$dom),this.$header.empty(),this.$dom.children("colgroup").clone().appendTo(this.$header),this.$dom.children("thead").appendTo(this.$header);const v={parent:this.$container,offset_top:d};o.a.defer(()=>this.$header.stick_in_parent(v))}detach(){super.detach(),this.$header.trigger("sticky_kit:detach")}}i.DOMAttachKey="vjStyledTableInstance",i.DOMAttachSelector=".data-table",o.a.assign(i,h.a)}).call(this,t(95))},854:function(R,u,t){"use strict";t.r(u),function(e){var r=t(670),m=t(107),s=t(114);try{const a=t(855);let n;try{n=a(`./${Object(s.a)("timeago_locale")}.js`).default}catch(d){n=a("./en_US.js").default}r.c(Object(s.a)("timeago_locale"),n)}catch(a){console.error(`Cannot register timeago locale: ${Object(s.a)("timeago_locale")}`)}function o(a){a.find("span.time.relative[data-timestamp]").get().forEach(n=>{const d=e(n);d.attr("data-has-timeago")===void 0&&(d.attr("data-tooltip",d.text()),d.attr("datetime",(d.attr("data-timestamp")||0)*1e3),d.attr("data-has-timeago","1"),r.d(n,Object(s.a)("timeago_locale")))})}function h(a){a.find("span.time.relative[data-timestamp]").get().forEach(n=>{const d=e(n);d.attr("data-has-timeago")!==void 0&&(d.removeAttr("data-has-timeago"),r.a(n))})}const c=new m.a("relativeTimePage",()=>{o(e("body")),e(document).on("vjContentNew",a=>o(e(a.target))),e(document).on("vjContentRemove",a=>h(e(a.target)))});u.default=c}.call(this,t(95))},855:function(R,u,t){var e={"./ar.js":513,"./be.js":514,"./bg.js":515,"./bn_IN.js":516,"./ca.js":517,"./cs.js":856,"./da.js":857,"./de.js":518,"./el.js":519,"./en_US.js":520,"./en_short.js":521,"./es.js":522,"./eu.js":523,"./fa.js":524,"./fi.js":525,"./fr.js":526,"./gl.js":527,"./he.js":528,"./hi_IN.js":529,"./hu.js":530,"./id_ID.js":531,"./index.js":858,"./it.js":532,"./ja.js":533,"./ka.js":859,"./ko.js":534,"./ml.js":535,"./my.js":536,"./nb_NO.js":537,"./nl.js":538,"./nn_NO.js":539,"./oc.js":860,"./pl.js":540,"./pt_BR.js":541,"./ro.js":542,"./ru.js":543,"./sq.js":544,"./sr.js":545,"./sv.js":546,"./ta.js":547,"./th.js":548,"./tr.js":549,"./uk.js":550,"./vi.js":551,"./zh_CN.js":552,"./zh_TW.js":553};function r(s){var o=m(s);return t(o)}function m(s){if(!t.o(e,s)){var o=new Error("Cannot find module '"+s+"'");throw o.code="MODULE_NOT_FOUND",o}return e[s]}r.keys=function(){return Object.keys(e)},r.resolve=m,R.exports=r,r.id=855},861:function(R,u,t){"use strict";t.r(u),function(e){var r=t(107),m=t(511);function s(h){const c=3;for(let a=0,n=h;a<c&&n!==null&&n!==document;n=n.parentNode,a++)if(n.getAttribute("data-tooltip"))return n;return null}const o=new r.a("tooltipPage",()=>{e(document).on("mouseover",h=>{const c=s(h.target);if(!c)return;const a=e(c),n={};a.attr("data-tooltip-pos")&&(n.position=a.attr("data-tooltip-pos")),m.a.getOrConstruct(a,n).open()})});u.default=o}.call(this,t(95))},862:function(R,u,t){"use strict";t.r(u),function(e){var r=t(863),m=t(107),s=t(127);function o(a,n,d){const i=a.find(".vote-number");r.a.get(i).setValue(n),a.find(".vote-button").removeClass("active"),d===1?a.find(".upvote").addClass("active"):d===-1&&a.find(".downvote").addClass("active")}function h(a){r.a.getOrConstruct(e(a))}const c=new m.a("votePage",()=>{e(".vote-number.rotator--enabled").get().forEach(a=>h(a)),e(document).on("click",".vote-button",a=>{const n=e(a.currentTarget),d=n.closest(".vote"),i=n.closest("form");return s.a.post(i.attr("action"),i).then(l=>{o(d,l.vote,l.user_vote)}).catch(()=>{}),!1})});u.default=c}.call(this,t(95))},863:function(R,u,t){"use strict";(function(e){t.d(u,"a",function(){return l});var r=t(116),m=t.n(r),s=t(172),o=t(163),h=(f,v,O)=>new Promise((y,g)=>{var E=M=>{try{A(O.next(M))}catch(C){g(C)}},p=M=>{try{A(O.throw(M))}catch(C){g(C)}},A=M=>M.done?y(M.value):Promise.resolve(M.value).then(E,p);A((O=O.apply(f,v)).next())});const c=4e3,a=-1,n=0,d=1,i={[a]:"pos--above",[n]:"",[d]:"pos--below"};class l extends s.a{getItemClass(v){return`rotator__item ${i[v]}`}constructor(v){super(v);v.addClass("rotator"),this.value=v.text(),this.$item=this.createItem(this.value,n).appendTo(v.empty())}createItem(v,O){return e("<div>").text(v).attr("class",this.getItemClass(O))}animateOutItem(v){return h(this,null,function*(){const{$item:O}=this;O.attr("class",this.getItemClass(v)),yield Object(o.a)(c),O.remove()})}animateInItem(){return h(this,null,function*(){const{$item:v}=this;v.height(),v.attr("class",this.getItemClass(n)),yield Object(o.a)(c)})}setValue(v){if(v===this.value)return;let O;parseFloat(v)>parseFloat(this.value)?O=d:O=a,this.animateOutItem(-O),this.value=v,this.$item=this.createItem(v,O).appendTo(this.$dom),this.animateInItem()}getValue(){return this.value}}l.DOMAttachKey="vjRotatorInstance",m.a.assign(l,s.a)}).call(this,t(95))}}]);
