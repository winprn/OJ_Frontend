(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1045:function(G,_,t){"use strict";(function(P){t.d(_,"a",function(){return S});var m=t(265),y=t.n(m);function a(){const i=60,n=20,d=P(".messagepad")[0];if(d.offsetHeight+i+n<window.innerHeight){const p=d.getBoundingClientRect(),E=document.body.getBoundingClientRect();let u=null;p.top<i?u=p.top-E.top-i:p.top+d.offsetHeight>window.innerHeight&&(u=p.top-E.top+d.offsetHeight+n-window.innerHeight),u!==null&&P("html, body").stop().animate({scrollTop:u},200,"easeOutCubic")}}function S(i=null,n){switch(n.type){case"DIALOGUES_SWITCH_TO":return a(),n.payload;case"DIALOGUES_POST_SEND_FULFILLED":return n.meta.dialogueId;default:return i}}}).call(this,t(95))},1537:function(G,_,t){"use strict";t.r(_);var P=t(457),m=t(1045),y=t(116),a=t.n(y),S=Object.defineProperty,i=Object.defineProperties,n=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,u=(s,e,r)=>e in s?S(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r,l=(s,e)=>{for(var r in e||(e={}))p.call(e,r)&&u(s,r,e[r]);if(d)for(var r of d(e))E.call(e,r)&&u(s,r,e[r]);return s},c=(s,e)=>i(s,n(e));function h(s={},e){var r;switch(e.type){case"DIALOGUES_LOAD_DIALOGUES_FULFILLED":{const{messages:o}=e.payload;return a.a.keyBy(o,"udoc._id")}case"DIALOGUES_CREATE":{const{user:o}=e.payload;return c(l({},s),{[o._id]:{_id:o._id,udoc:l({},o),messages:[]}})}case"DIALOGUES_POST_SEND_FULFILLED":{const o=e.meta.dialogueId,{mdoc:I}=e.payload;return c(l({},s),{[o]:c(l({},s[o]),{messages:[...s[o].messages,I]})})}case"DIALOGUES_MESSAGE_PUSH":{const{mdoc:o,udoc:I}=e.payload,L=o.from===UserContext._id?o.to:o.from;return c(l({},s),{[L]:c(l({},s[L]||{}),{udoc:I,messages:[...((r=s[L])==null?void 0:r.messages)||[],o]})})}default:return s}}var T=Object.defineProperty,j=Object.defineProperties,N=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,U=(s,e,r)=>e in s?T(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r,g=(s,e)=>{for(var r in e||(e={}))F.call(e,r)&&U(s,r,e[r]);if(v)for(var r of v(e))C.call(e,r)&&U(s,r,e[r]);return s},D=(s,e)=>j(s,N(e));function H(s={},e){switch(e.type){case"DIALOGUES_LOAD_DIALOGUES_FULFILLED":{const r=e.payload.messages;return a.a.fromPairs(a.a.map(r,o=>[o._id,""]))}case"DIALOGUES_CREATE":{const{user:r}=e.payload;return D(g({},s),{[r._id]:""})}case"DIALOGUES_INPUT_CHANGED":{const r=e.meta.dialogueId;return D(g({},s),{[r]:e.payload})}case"DIALOGUES_POST_SEND_FULFILLED":{const r=e.meta.dialogueId;return D(g({},s),{[r]:""})}case"DIALOGUES_MESSAGE_PUSH":{const{udoc:r}=e.payload;return s[r._id]?s:D(g({},s),{[r._id]:""})}default:return s}}var b=t(135),B=Object.defineProperty,R=Object.defineProperties,M=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,w=(s,e,r)=>e in s?B(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r,O=(s,e)=>{for(var r in e||(e={}))V.call(e,r)&&w(s,r,e[r]);if(A)for(var r of A(e))J.call(e,r)&&w(s,r,e[r]);return s},f=(s,e)=>R(s,M(e));function W(s={},e){switch(e.type){case"DIALOGUES_LOAD_DIALOGUES_FULFILLED":{const r=e.payload.messages;return a.a.fromPairs(a.a.map(r,o=>[o._id,!1]))}case"DIALOGUES_CREATE":{const{user:r}=e.payload;return f(O({},s),{[r._id]:!1})}case"DIALOGUES_POST_SEND_PENDING":{const r=e.meta.dialogueId;return f(O({},s),{[r]:!0})}case"DIALOGUES_POST_SEND_REJECTED":{b.a.error(e.payload.message);const r=e.meta.dialogueId;return f(O({},s),{[r]:!1})}case"DIALOGUES_POST_SEND_FULFILLED":{const r=e.meta.dialogueId;return f(O({},s),{[r]:!1})}case"DIALOGUES_MESSAGE_PUSH":{const{udoc:r}=e.payload;return f(O({},s),{[r._id]:!1})}default:return s}}const K=Object(P.combineReducers)({activeId:m.a,dialogues:h,inputs:H,isPosting:W});var x=_.default=K}}]);
