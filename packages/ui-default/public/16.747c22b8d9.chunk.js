(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1532:function(k,u,a){"use strict";a.r(u);var D=a(457),p=a(135),I=a(114),g=Object.defineProperty,A=Object.defineProperties,R=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,_=(o,e,r)=>e in o?g(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,t=(o,e)=>{for(var r in e||(e={}))w.call(e,r)&&_(o,r,e[r]);if(P)for(var r of P(e))L.call(e,r)&&_(o,r,e[r]);return o},s=(o,e)=>A(o,R(e));function U(o={main:{size:"50%"},pretest:{visible:["default","fileio"].includes((r=>(r=UiContext.pdoc.config)==null?void 0:r.type)())?localStorage.getItem("scratchpad/pretest")==="true":!1,size:200},records:{visible:UiContext.canViewRecord&&localStorage.getItem("scratchpad/records")==="true",size:200,isLoading:!1},isPosting:!1},e){switch(e.type){case"SCRATCHPAD_UI_CHANGE_SIZE":{const{uiElement:r,size:i}=e.payload;return s(t({},o),{[r]:s(t({},o[r]),{size:i})})}case"SCRATCHPAD_UI_SET_VISIBILITY":{const{uiElement:r,visibility:i}=e.payload;return localStorage.setItem(`scratchpad/${r}`,i.toString()),s(t({},o),{[r]:s(t({},o[r]),{visible:i})})}case"SCRATCHPAD_UI_TOGGLE_VISIBILITY":{const{uiElement:r}=e.payload;return localStorage.setItem(`scratchpad/${r}`,(!o[r].visible).toString()),s(t({},o),{[r]:s(t({},o[r]),{visible:!o[r].visible})})}case"SCRATCHPAD_POST_PRETEST_PENDING":case"SCRATCHPAD_POST_SUBMIT_PENDING":return s(t({},o),{isPosting:!0});case"SCRATCHPAD_POST_PRETEST_FULFILLED":case"SCRATCHPAD_POST_SUBMIT_FULFILLED":return p.a.success(Object(I.a)("Submitted.")),s(t({},o),{isPosting:!1});case"SCRATCHPAD_POST_PRETEST_REJECTED":case"SCRATCHPAD_POST_SUBMIT_REJECTED":return p.a.error(e.payload.message),s(t({},o),{isPosting:!1});case"SCRATCHPAD_RECORDS_LOAD_SUBMISSIONS_PENDING":return s(t({},o),{records:s(t({},o.records),{isLoading:!0})});case"SCRATCHPAD_RECORDS_LOAD_SUBMISSIONS_REJECTED":return p.a.error(e.payload.message),s(t({},o),{records:s(t({},o.records),{isLoading:!1})});case"SCRATCHPAD_RECORDS_LOAD_SUBMISSIONS_FULFILLED":return s(t({},o),{records:s(t({},o.records),{isLoading:!1})});default:return o}}var b=Object.defineProperty,H=Object.defineProperties,h=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,f=(o,e,r)=>e in o?b(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,O=(o,e)=>{for(var r in e||(e={}))j.call(e,r)&&f(o,r,e[r]);if(S)for(var r of S(e))N.call(e,r)&&f(o,r,e[r]);return o},C=(o,e)=>H(o,h(e));function x(o={lang:UiContext.codeLang,code:localStorage.getItem(`${UserContext._id}/${UiContext.pdoc.domainId}/${UiContext.pdoc.docId}`)||UiContext.codeTemplate},e){switch(e.type){case"SCRATCHPAD_EDITOR_UPDATE_CODE":return localStorage.setItem(`${UserContext._id}/${UiContext.pdoc.domainId}/${UiContext.pdoc.docId}`,e.payload),C(O({},o),{code:e.payload});case"SCRATCHPAD_EDITOR_SET_LANG":return C(O({},o),{lang:e.payload});default:return o}}var B=a(508),$=Object.defineProperty,F=Object.defineProperties,G=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,v=(o,e,r)=>e in o?$(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,c=(o,e)=>{for(var r in e||(e={}))M.call(e,r)&&v(o,r,e[r]);if(m)for(var r of m(e))V.call(e,r)&&v(o,r,e[r]);return o},l=(o,e)=>F(o,G(e));function J(o={input:"",output:"",rid:null},e){if(e.type==="SCRATCHPAD_PRETEST_DATA_CHANGE"){const{type:r,value:i}=e.payload;return l(c({},o),{[r]:i})}if(e.type==="SCRATCHPAD_RECORDS_PUSH"){const{rdoc:r}=e.payload;if(r._id===o.rid){const i=[`${B.a[r.status]} ${r.time}ms ${r.memory}KiB`];return r.compilerTexts.length&&i.push(r.compilerTexts.join(`
`)),r.testCases.length&&i.push(r.testCases[0].message||""),l(c({},o),{output:i.join(`
`)})}}return e.type==="SCRATCHPAD_POST_PRETEST_FULFILLED"?l(c({},o),{rid:e.payload.rid}):o}var z=a(116),E=a.n(z),Y=Object.defineProperty,K=Object.defineProperties,Z=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,y=(o,e,r)=>e in o?Y(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,d=(o,e)=>{for(var r in e||(e={}))Q.call(e,r)&&y(o,r,e[r]);if(T)for(var r of T(e))W.call(e,r)&&y(o,r,e[r]);return o},n=(o,e)=>K(o,Z(e));function X(o={rows:[],items:{}},e){switch(e.type){case"SCRATCHPAD_RECORDS_LOAD_SUBMISSIONS_FULFILLED":{const{rdocs:r}=e.payload;return n(d({},o),{rows:E.a.map(r,"_id"),items:E.a.keyBy(r,"_id")})}case"SCRATCHPAD_RECORDS_PUSH":{const{rdoc:r}=e.payload;return[...o.rows].includes(r._id)?n(d({},o),{items:n(d({},o.items),{[r._id]:r})}):n(d({},o),{rows:[r._id,...o.rows],items:n(d({},o.items),{[r._id]:r})})}default:return o}}const q=Object(D.combineReducers)({ui:U,editor:x,pretest:J,records:X});var rr=u.default=q}}]);
